(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[0],{100:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return y})),n.d(t,"h",(function(){return x})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return A})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return M}));var r=n(9),a=n(2),c=n.n(a),i=n(8),o=n(14),s=n(7),u=n(41),l=n(58),d=n(26),f=n.n(d),b=n(44),p=n(79),m=n(40),h=n(200),j=function(e,t,n){var r=t.match(/\.[0-9a-z]+$/i);if(null===r)throw new Error("Could not parse file extension from ".concat(t));switch(r[0]){case".csv":var a,c=function(e){for(var t=new RegExp('(\\,|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^\\,\\r\\n]*))',"gi"),n=null,r=[[]];n=t.exec(e);)n[1].length&&","!==n[1]&&r.push([]),r[r.length-1].push(n[2]?n[2].replace(new RegExp('""',"g"),'"'):n[3]);return r}(e);if("aws-sms"===n)a="phone number";else{if("aws-email"!==n)throw new Error("Cannot parse csv for ".concat(a));a="email"}var i=c[0].findIndex((function(e){return e.includes(a)}));if(-1===i)throw new Error("Could not find ".concat(a," index"));var s=new Set(c.slice(1).filter((function(e){return e[i].length>0})).map((function(e){return e[i]})));return Object(o.a)(s).map((function(e,t){return{handle:e,amount:1,edition:t}}));case".json":return JSON.parse(e).map((function(e){return{handle:e.handle,amount:e.amount,edition:e.edition,url:e.url}}));default:throw new Error("Cannot parse file format ".concat(r," from ").concat(t))}},g=function(e,t){return"https://explorer.solana.com/address/".concat(t,"?cluster=").concat(e)},y=function(e,t,n,r,a){switch(t){case"transfer":return{type:"Token",meta:g(e,n)};case"candy":return{type:"Candy",meta:g(e,r)};case"edition":return{type:"Edition",meta:g(e,a)};default:throw new Error("Unknown claim integration method ".concat(t))}},x=function(){var e=Object(i.a)(c.a.mark((function e(t,n,r,a){var i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.forEach((function(e,t){if(!e.handle)throw new Error("Claimant ".concat(t," doesn't have handle"));if(!e.amount)throw new Error("Claimant ".concat(t," doesn't have amount"));if(0===e.amount)throw new Error("Claimant ".concat(t," amount is 0"))})),i=r.reduce((function(e,t){return e+t.amount}),0),e.next=4,Object(p.h)(t,a);case 4:return o=e.sent,e.next=7,Object(p.d)(n,t,o.key,i);case 7:return s=e.sent,e.abrupt("return",{total:i,mint:o,source:s});case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(i.a)(c.a.mark((function e(t,n,a,i,o){var s,u,l,d,f,b,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.forEach((function(e,t){if(!e.handle)throw new Error("Claimant ".concat(t," doesn't have handle"));if(!e.amount)throw new Error("Claimant ".concat(t," doesn't have amount"));if(0===e.amount)throw new Error("Claimant ".concat(t," amount is 0"))})),s=a.reduce((function(e,t){return e+t.amount}),0),e.next=4,Object(p.a)(t,i);case 4:return u=e.sent,e.next=7,Object(p.c)(u,o);case 7:return l=e.sent,d=Object(r.a)(l,1),f=d[0],e.next=12,Object(p.b)(t,f);case 12:if(b=e.sent,m=b.data.itemsAvailable.toNumber()-b.itemsRedeemed.toNumber(),!isNaN(m)){e.next=16;break}throw new Error("Could not calculate how many candy machine items are remaining");case 16:if(!(m<s)){e.next=18;break}throw new Error("Distributor is allocated more mints (".concat(s,") ")+"than the candy machine has remaining (".concat(m,")"));case 18:if(b.authority.equals(n)){e.next=20;break}throw new Error("Candy machine authority does not match wallet public key");case 20:return e.abrupt("return",{total:s,config:u,uuid:o,candyMachineKey:f});case 21:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),w=function(e){return e.div(new f.a(8))},O=function(e){return new f.a(7).sub(e.mod(new f.a(8)))},k=function(e){var t=function(e){return e.mod(new f.a(248))}(e);return{index:w(t).toNumber(),mask:new f.a(1).shln(O(t).toNumber()).toNumber()}},S=function(e,t){var n=k(t);return 0!==(e[n.index]&n.mask)},C=function(e,t){var n=k(t);e[n.index]=e[n.index]|n.mask},A=function(){var e=Object(i.a)(c.a.mark((function e(t,n,r,a){var i,s,u,l,d,b,m,h,j,g,y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.forEach((function(e,t){if(!e.handle)throw new Error("Claimant ".concat(t," doesn't have handle"));if(1!==e.amount)throw new Error("Claimant ".concat(t," has amount ").concat(e.amount,". Expected 1 for edition gumdrop"))})),i=r.reduce((function(e,t){return e+t.amount}),0),e.next=4,Object(p.h)(t,a);case 4:return s=e.sent,e.next=7,Object(p.d)(n,t,s.key,1);case 7:return u=e.sent,e.next=10,Object(p.e)(s.key);case 10:return l=e.sent,e.next=13,t.getAccountInfo(l);case 13:if(null!==(d=e.sent)){e.next=16;break}throw new Error("Could not fetch master edition");case 16:if(console.log("Master edition",d),b=new f.a(d.data.slice(1,9),8,"le").toNumber(),m=0===d.data[9]?null:new f.a(d.data.slice(10,18),8,"le").toNumber(),console.log("Max supply",m),console.log("Current supply",b),!(null!==m&&m<i)){e.next=23;break}throw new Error("Distributor is allocated more editions (".concat(i,") ")+"than the master has total (".concat(m,")"));case 23:h={},j=[],g=c.a.mark((function e(n){var a,i,u,l,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(a=r[n]).edition){e.next=3;break}throw new Error("Claimant ".concat(n," doesn't have edition"));case 3:if(!(a.edition<=0)){e.next=5;break}throw new Error("Claimant ".concat(n," assigned invalid edition ").concat(a.edition));case 5:if(!(null!==m&&a.edition>m)){e.next=7;break}throw new Error("Claimant ".concat(n," assigned edition ").concat(a.edition," which is beyond the max supply"));case 7:if(!(a.edition in h)){e.next=9;break}throw new Error("Claimant ".concat(n," and ").concat(h[a.edition]," are both assigned to edition ").concat(a.edition));case 9:return i=new f.a(a.edition),e.next=12,Object(p.f)(s.key,i);case 12:if(u=e.sent,void 0!==(l=j.find((function(e){return e[0].equals(u)})))){e.next=20;break}return e.next=17,t.getAccountInfo(u);case 17:null===(d=e.sent)?j.push([u,Array(31)]):j.push([u,Object(o.a)(d.data.slice(1,32))]),l=j[j.length-1];case 20:if(void 0!==l){e.next=22;break}throw new Error("Internal Error: Edition marker info still undefined ".concat(a.edition));case 22:if(!S(l[1],i)){e.next=24;break}throw new Error("Claimant ".concat(n," is assigned to edition ").concat(a.edition," which is already taken"));case 24:C(l[1],i),h[a.edition]=n;case 26:case"end":return e.stop()}}),e)})),y=0;case 27:if(!(y<r.length)){e.next=32;break}return e.delegateYield(g(y),"t0",29);case 29:++y,e.next=27;break;case 32:return e.abrupt("return",{total:i,masterMint:s,masterTokenAccount:u});case 33:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),E=function(e,t){for(var n=[],r=0,a=e.length;r<a;)n.push(e.slice(r,r+=t));return n},P=function(){var t=Object(i.a)(c.a.mark((function t(n,a,i,d,p,j,g,y,x){var v,w,O,k,S,C,A,P,M,I,B,K,W,T,D,N,F,R,U,L,z,q,_,G,H,J,V,Y=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v=Y.length>9&&void 0!==Y[9]?Y[9]:[],w=[],O=0;case 3:if(!(O<y.length)){t.next=27;break}if(k=y[O],i){t.next=15;break}t.prev=6,k.secret=new s.PublicKey(k.handle),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(6),new Error("Invalid claimant wallet handle ".concat(t.t0));case 13:t.next=22;break;case 15:return S=[k.seed.toBuffer()].concat(Object(o.a)(E(e.from(k.handle),32)),[e.from(k.pin.toArray("le",4))]),t.next=18,s.PublicKey.findProgramAddress(S.map((function(e){return e.slice(0,32)})),m.c);case 18:C=t.sent,A=Object(r.a)(C,1),P=A[0],k.secret=P;case 22:M="edition"===d?Object(o.a)(new f.a(k.edition).toArray("le",8)):[],w.push(e.from([].concat(Object(o.a)(new f.a(O).toArray("le",8)),Object(o.a)(k.secret.toBuffer()),Object(o.a)(k.seed.toBuffer()),Object(o.a)(new f.a(k.amount).toArray("le",8)),Object(o.a)(M))));case 24:++O,t.next=3;break;case 27:return I=new h.a(w),B=I.getRoot(),t.next=31,s.PublicKey.findProgramAddress([e.from("MerkleDistributor"),j.toBuffer()],m.c);case 31:K=t.sent,W=Object(r.a)(K,2),T=W[0],D=W[1],N=0;case 36:if(!(N<y.length)){t.next=50;break}if(F=I.getProof(N),I.verifyProof(N,F,B)){t.next=41;break}throw new Error("Gumdrop merkle tree verification failed");case 41:R=y[N],U=["distributor=".concat(T),"handle=".concat(encodeURIComponent(R.handle)),"amount=".concat(R.amount),"index=".concat(N),"proof=".concat(F.map((function(e){return b.encode(e)})))].concat(Object(o.a)(v)),i?U.push("pin=".concat(R.pin.toNumber())):U.push("pin=NA"),"transfer"===d?U.push("tokenAcc=".concat(x.source)):"candy"===d?(U.push("config=".concat(x.config)),U.push("uuid=".concat(x.uuid))):(U.push("master=".concat(x.masterMint.key)),U.push("edition=".concat(R.edition))),L=U.join("&"),R.url="".concat(p,"/claim?").concat(L);case 47:++N,t.next=36;break;case 50:if((z=Array()).push(new s.TransactionInstruction({programId:m.c,keys:[{pubkey:j,isSigner:!0,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1}],data:e.from([].concat(Object(o.a)(e.from(l.sha256.digest("global:new_distributor")).slice(0,8)),Object(o.a)(new f.a(D).toArray("le",1)),Object(o.a)(B),Object(o.a)(g.toBuffer())))})),"transfer"!==d){t.next=56;break}z.push(u.d.createApproveInstruction(m.i,x.source,T,a,[],x.total)),t.next=73;break;case 56:if("candy"!==d){t.next=65;break}return t.next=59,s.PublicKey.findProgramAddress([e.from("Wallet"),T.toBuffer()],m.c);case 59:q=t.sent,_=Object(r.a)(q,1),G=_[0],z.push(new s.TransactionInstruction({programId:m.b,keys:[{pubkey:x.candyMachineKey,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1}],data:e.from([].concat(Object(o.a)(e.from(l.sha256.digest("global:update_authority")).slice(0,8)),Object(o.a)(new f.a(1).toArray("le",1)),Object(o.a)(G.toBuffer())))})),t.next=73;break;case 65:if("edition"!==d){t.next=73;break}return t.next=68,s.PublicKey.findProgramAddress([T.toBuffer(),m.i.toBuffer(),x.masterMint.key.toBuffer()],m.f);case 68:H=t.sent,J=Object(r.a)(H,1),V=J[0],z.push(u.d.createAssociatedTokenAccountInstruction(m.f,m.i,x.masterMint.key,V,T,a)),z.push(u.d.createTransferInstruction(m.i,x.masterTokenAccount,V,a,[],1));case 73:return t.abrupt("return",z);case 74:case"end":return t.stop()}}),t,null,[[6,10]])})));return function(e,n,r,a,c,i,o,s,u){return t.apply(this,arguments)}}(),M=function(){var t=Object(i.a)(c.a.mark((function t(n,a,i,d,b,h,j,g){var y,x,v,w,O,k,S,C,A,E,P,M,I,B,K,W,T,D,N,F,R,U,L;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.PublicKey.findProgramAddress([e.from("MerkleDistributor"),i.publicKey.toBuffer()],m.c);case 2:return y=t.sent,x=Object(r.a)(y,2),v=x[0],w=x[1],t.next=8,s.PublicKey.findProgramAddress([e.from("Wallet"),v.toBuffer()],m.c);case 8:if(O=t.sent,k=Object(r.a)(O,2),S=k[0],C=k[1],E=Array(),"transfer"!==d){t.next=21;break}return t.next=16,Object(p.h)(n,b);case 16:return P=t.sent,t.next=19,Object(p.d)(a,n,P.key,0);case 19:M=t.sent,E.push(u.d.createRevokeInstruction(m.i,M,a,[]));case 21:if("candy"!==d){t.next=33;break}return t.next=24,Object(p.a)(n,h);case 24:return I=t.sent,t.next=27,Object(p.c)(I,j);case 27:B=t.sent,K=Object(r.a)(B,1),W=K[0],A=[{pubkey:W,isSigner:!1,isWritable:!0},{pubkey:m.b,isSigner:!1,isWritable:!1}],t.next=34;break;case 33:A=[];case 34:if("edition"!==d){t.next=53;break}t.prev=35,T=new s.PublicKey(g),t.next=42;break;case 39:throw t.prev=39,t.t0=t.catch(35),new Error("Invalid mint key ".concat(t.t0));case 42:return t.next=44,s.PublicKey.findProgramAddress([v.toBuffer(),m.i.toBuffer(),T.toBuffer()],m.f);case 44:return D=t.sent,N=Object(r.a)(D,1),F=N[0],t.next=49,s.PublicKey.findProgramAddress([a.toBuffer(),m.i.toBuffer(),T.toBuffer()],m.f);case 49:R=t.sent,U=Object(r.a)(R,1),L=U[0],E.push(new s.TransactionInstruction({programId:m.c,keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:F,isSigner:!1,isWritable:!0},{pubkey:L,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:m.i,isSigner:!1,isWritable:!1}],data:e.from([].concat(Object(o.a)(e.from(l.sha256.digest("global:close_distributor_token_account")).slice(0,8)),Object(o.a)(new f.a(w).toArray("le",1))))}));case 53:return E.push(new s.TransactionInstruction({programId:m.c,keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!0},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:m.i,isSigner:!1,isWritable:!1}].concat(Object(o.a)(A)),data:e.from([].concat(Object(o.a)(e.from(l.sha256.digest("global:close_distributor")).slice(0,8)),Object(o.a)(new f.a(w).toArray("le",1)),Object(o.a)(new f.a(C).toArray("le",1))))})),t.abrupt("return",E);case 55:case"end":return t.stop()}}),t,null,[[35,39]])})));return function(e,n,r,a,c,i,o,s){return t.apply(this,arguments)}}()}).call(this,n(18).Buffer)},107:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f}));var r=n(2),a=n.n(r),c=(n(14),n(8)),i=(n(7),n(98)),o=n(67),s=n.n(o),u=function(){return(new Date).getTime()/1e3},l=function(e){var t=e._rpcEndpoint.match(/https:\/\/api.([^.]*).solana.com/);return t[1]?t[1]:"mainnet-beta"},d=function(e,t){return"https://explorer.solana.com/tx/".concat(e,"?cluster=").concat(l(t))};function f(e){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(a.a.mark((function e(t){var n,r,o,l,d,f,b,m,j,g,y,x,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,o=t.timeout,l=void 0===o?15e3:o,d=n.serialize(),f=u(),b=0,e.next=6,r.sendRawTransaction(d,{skipPreflight:!0});case 6:return m=e.sent,s.a.debug("Started awaiting confirmation for",m),j=!1,Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j||!(u()-f<l)){e.next=6;break}return r.sendRawTransaction(d,{skipPreflight:!0}),e.next=4,Object(i.c)(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,h(m,l,r,"confirmed",!0);case 13:if(g=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!g.err){e.next=19;break}throw s.a.error(g.err),new Error("Transaction failed: Custom instruction error");case 19:b=(null===g||void 0===g?void 0:g.slot)||0,e.next=48;break;case 22:if(e.prev=22,e.t0=e.catch(10),s.a.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return y=null,e.prev=28,e.next=31,p(r,n,"single");case 31:y=e.sent.value,e.next=37;break;case 34:e.prev=34,e.t1=e.catch(28),s.a.error("Simulate Transaction error",e.t1);case 37:if(!y||!y.err){e.next=48;break}if(!y.logs){e.next=47;break}x=y.logs.length-1;case 40:if(!(x>=0)){e.next=47;break}if(!(v=y.logs[x]).startsWith("Program log: ")){e.next=44;break}throw new Error("Transaction failed: "+v.slice("Program log: ".length));case 44:--x,e.next=40;break;case 47:throw new Error(JSON.stringify(y.err));case 48:return e.prev=48,j=!0,e.finish(48);case 51:return s.a.debug("Latency (ms)",m,u()-f),e.abrupt("return",{txid:m,slot:b});case 53:case"end":return e.stop()}}),e,null,[[10,22,48,51],[28,34]])})))).apply(this,arguments)}function p(e,t,n){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(a.a.mark((function e(t,n,r){var c,i,o,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,c=n.serializeMessage(),i=n._serialize(c),o=i.toString("base64"),s=[o,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",s);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t,n){return j.apply(this,arguments)}function j(){return j=Object(c.a)(a.a.mark((function e(t,n,r){var o,u,l,f,b,p=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=p.length>3&&void 0!==p[3]?p[3]:"recent",u=p.length>4&&void 0!==p[4]&&p[4],l=!1,f={slot:0,confirmations:0,err:null},b=0,e.next=7,new Promise(function(){var e=Object(c.a)(a.a.mark((function e(p,m){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){l||(l=!0,s.a.warn("Rejecting for timeout..."),m({timeout:!0}))}),n);try{b=r.onSignature(t,(function(e,t){l=!0,f={err:e.err,slot:t.slot,confirmations:0},e.err?(s.a.warn("Rejected via websocket",e.err),m(f)):(s.a.debug("Resolved via websocket",e),p(f))}),o)}catch(h){l=!0,s.a.error("WS error in setup",t,h)}case 2:if(l||!u){e.next=8;break}return Object(c.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,f=n&&n.value[0],console.log(d(t,r)),l||(f?f.err?(s.a.error("REST error for",t,f),l=!0,m(f.err)):f.confirmations?(s.a.debug("REST confirmation for",t,f),l=!0,p(f)):s.a.error("REST no confirmations for",t,f):s.a.debug("REST null result for",t,f)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),l||s.a.error("REST connection error: txid",t,e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))(),e.next=6,Object(i.c)(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return f=e.sent,r._signatureSubscriptions[b]&&r.removeSignatureListener(b),l=!0,s.a.debug("Returning status",f),e.abrupt("return",f);case 12:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}},130:function(e,t,n){"use strict";n.r(t),n.d(t,"ENDPOINTS",(function(){return h})),n.d(t,"ConnectionProvider",(function(){return y})),n.d(t,"useConnection",(function(){return x})),n.d(t,"useConnectionConfig",(function(){return v})),n.d(t,"getErrorForTransaction",(function(){return O})),n.d(t,"SequenceType",(function(){return w})),n.d(t,"sendTransactionWithRetry",(function(){return k}));var r=n(2),a=n.n(r),c=n(8),i=n(14),o=n(9),s=n(98),u=n(7),l=n(1),d=n.n(l),f=n(107),b=n(231),p=n(22),m=n(5),h=[{name:"mainnet-beta",endpoint:"https://api.mainnet-beta.solana.com",ChainId:b.a.MainnetBeta},{name:"devnet",endpoint:"https://api.devnet.solana.com",ChainId:b.a.Devnet}],j=h[0].endpoint,g=d.a.createContext({endpoint:j,setEndpoint:function(){},connection:new u.Connection(j,"recent"),env:h[0].name,tokens:[],tokenMap:new Map});function y(e){var t,n=e.children,r=void 0===n?void 0:n,a=Object(s.d)("connectionEndpoint",h[0].endpoint),c=Object(o.a)(a,2),d=c[0],f=c[1],p=Object(l.useMemo)((function(){return new u.Connection(d,"recent")}),[d]),j=(null===(t=h.find((function(e){return e.endpoint===d})))||void 0===t?void 0:t.name)||h[0].name,y=Object(l.useState)([]),x=Object(o.a)(y,2),v=x[0],w=x[1],O=Object(l.useState)(new Map),k=Object(o.a)(O,2),S=k[0],C=k[1];return Object(l.useEffect)((function(){(new b.b).resolve().then((function(e){var t,n=e.excludeByTag("nft").filterByChainId((null===(t=h.find((function(e){return e.endpoint===d})))||void 0===t?void 0:t.ChainId)||b.a.MainnetBeta).getList(),r=Object(i.a)(n).reduce((function(e,t){return e.set(t.address,t),e}),new Map);C(r),w(n)}))}),[j,d]),Object(l.useEffect)((function(){var e=p.onAccountChange(u.Keypair.generate().publicKey,(function(){}));return function(){p.removeAccountChangeListener(e)}}),[p]),Object(l.useEffect)((function(){var e=p.onSlotChange((function(){return null}));return function(){p.removeSlotChangeListener(e)}}),[p]),Object(m.jsx)(g.Provider,{value:{endpoint:d,setEndpoint:f,connection:p,tokens:v,tokenMap:S,env:j},children:r})}function x(){return Object(l.useContext)(g).connection}function v(){var e=Object(l.useContext)(g);return{endpoint:e.endpoint,setEndpoint:e.setEndpoint,env:e.env,tokens:e.tokens,tokenMap:e.tokenMap}}var w,O=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.confirmTransaction(n,"max");case 2:return e.next=4,t.getParsedConfirmedTransaction(n);case 4:return r=e.sent,c=[],(null===r||void 0===r?void 0:r.meta)&&r.meta.logMessages&&r.meta.logMessages.forEach((function(e){for(var t,n=/Error: (.*)/gm;null!==(t=n.exec(e));)t.index===n.lastIndex&&n.lastIndex++,t.length>1&&c.push(t[1])})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(w||(w={}));var k=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){var o,s,l,d,b,m,h,j,g,y,x,v=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=v.length>4&&void 0!==v[4]?v[4]:"singleGossip",s=v.length>5&&void 0!==v[5]&&v[5],l=v.length>6?v[6]:void 0,d=v.length>7?v[7]:void 0,n.publicKey){e.next=6;break}throw new p.i;case 6:if(b=new u.Transaction,r.forEach((function(e){return b.add(e)})),e.t0=l,e.t0){e.next=13;break}return e.next=12,t.getRecentBlockhash(o);case 12:e.t0=e.sent;case 13:if(b.recentBlockhash=e.t0.blockhash,s?(m=b).setSigners.apply(m,Object(i.a)(c.map((function(e){return e.publicKey})))):(h=b).setSigners.apply(h,[n.publicKey].concat(Object(i.a)(c.map((function(e){return e.publicKey}))))),c.length>0&&(j=b).partialSign.apply(j,Object(i.a)(c)),s){e.next=26;break}return e.prev=17,e.next=20,n.signTransaction(b);case 20:b=e.sent,e.next=26;break;case 23:return e.prev=23,e.t1=e.catch(17),e.abrupt("return","Failed to sign transaction");case 26:return d&&d(),console.log("About to send"),e.prev=28,e.next=31,Object(f.c)({connection:t,signedTransaction:b});case 31:return g=e.sent,y=g.txid,x=g.slot,e.abrupt("return",{txid:y,slot:x});case 37:return e.prev=37,e.t2=e.catch(28),console.error(e.t2),e.abrupt("return","See console logs");case 41:case"end":return e.stop()}}),e,null,[[17,23],[28,37]])})));return function(t,n,r,a){return e.apply(this,arguments)}}()},200:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var r=n(9),a=n(14),c=n(33),i=n(11),o=n(17),s=n(197),u=function(){function t(e){Object(i.a)(this,t),this.leafs=void 0,this.layers=void 0,this.leafs=e.slice(),this.layers=[];for(var n=this.leafs.map(t.nodeHash);n.length>0&&(console.log("Hashes",this.layers.length,n),this.layers.push(n.slice()),1!==n.length);)n=n.reduce((function(e,n,r,a){if(r%2===0){var c=a[r+1];e.push(t.internalHash(n,c))}return e}),Array())}return Object(o.a)(t,[{key:"getRoot",value:function(){return this.layers[this.layers.length-1][0]}},{key:"getProof",value:function(e){return this.layers.reduce((function(t,n){var r=1^e;return r<n.length&&t.push(n[r]),e=Math.floor(e/2),t}),[])}},{key:"getHexRoot",value:function(){return this.getRoot().toString("hex")}},{key:"getHexProof",value:function(e){return this.getProof(e).map((function(e){return e.toString("hex")}))}},{key:"verifyProof",value:function(e,n,r){var a,i=t.nodeHash(this.leafs[e]),o=Object(c.a)(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;i=t.internalHash(i,s)}}catch(u){o.e(u)}finally{o.f()}return i.equals(r)}}],[{key:"nodeHash",value:function(t){return e.from(s.keccak_256.digest([0].concat(Object(a.a)(t))))}},{key:"internalHash",value:function(t,n){if(!n)return t;var c=[t,n].sort(e.compare),i=Object(r.a)(c,2),o=i[0],u=i[1];return e.from(s.keccak_256.digest([1].concat(Object(a.a)(o),Object(a.a)(u))))}},{key:"verifyClaim",value:function(e,n,r){var a,i=t.nodeHash(e),o=Object(c.a)(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;i=t.internalHash(i,s)}}catch(u){o.e(u)}finally{o.f()}return i.equals(r)}}]),t}()}).call(this,n(18).Buffer)},215:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(2),n(8);var r=n(40),a=function(){return{token:r.i,associatedToken:r.f,bpf_upgrade_loader:r.a,system:r.g,memo:r.e}}},216:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(34),a=n(196),c=(n(1),n(861)),i=(n(734),n(5)),o=["children","closeIcon","bodyStyle","width","style"],s=function(e){var t=e.children,n=(e.closeIcon,e.bodyStyle),s=e.width,u=(e.style,Object(a.a)(e,o));return Object(i.jsx)(c.a,Object(r.a)(Object(r.a)({style:{background:"transparent",borderRadius:16},bodyStyle:Object(r.a)({background:"#333333",display:"flex",flexDirection:"column",alignItems:"center"},n),footer:null,width:s||400},u),{},{children:t}))}},235:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));n(196);var r=n(9),a=n(33),c=n(34),i=n(2),o=n.n(i),s=n(8),u=n(1),l=n.n(u),d=n(130),f=n(84),b=n(7),p=n(41),m=(n(98),n(257)),h=n(40),j=n(215),g=n(5),y=l.a.createContext(null),x=new Map,v=new Map,w=new Map,O=new Map,k=function(){var t=Object(s.a)(o.a.mark((function t(n,r){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getAccountInfo(r);case 2:if(null!==(a=t.sent)){t.next=5;break}throw new Error("Failed to find mint account");case 5:return c=e.from(a.data),t.abrupt("return",K(c));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),S=function(t,n){if(n.data.length>0){var r=e.from(n.data),a=B(r);return{pubkey:t,account:Object(c.a)({},n),info:a}}},C=new Map,A={emitter:new m.a,query:function(){var e=Object(s.a)(o.a.mark((function e(t,n,r){var a,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="string"===typeof n?new b.PublicKey(n):n,c=a.toBase58(),!(i=v.get(c))){e.next=5;break}return e.abrupt("return",i);case 5:if(!(s=x.get(c))){e.next=8;break}return e.abrupt("return",s);case 8:return s=t.getAccountInfo(a).then((function(e){if(!e)throw new Error("Account not found");return A.add(a,e,r)})),x.set(c,s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),add:function(e,t,n,r){var a="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),c=n||C.get(a);if(!c)throw new Error("Deserializer needs to be registered or passed as a parameter");A.registerParser(e,c),x.delete(a);var i=c(a,t);if(i){void 0===r?r=!0:r instanceof Function&&(r=r(i));var o=!v.has(a);return v.set(a,i),A.emitter.raiseCacheUpdated(a,o,c,r),i}},get:function(e){var t;return t="string"!==typeof e?e.toBase58():e,v.get(t)},delete:function(e){var t;return t="string"!==typeof e?e.toBase58():e,!!v.get(t)&&(v.delete(t),A.emitter.raiseCacheDeleted(t),!0)},byParser:function(e){var t,n=[],r=Object(a.a)(C.keys());try{for(r.s();!(t=r.n()).done;){var c=t.value;C.get(c)===e&&n.push(c)}}catch(i){r.e(i)}finally{r.f()}return n},registerParser:function(e,t){if(e){var n="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();C.set(n,t)}return e},queryMint:function(){var e=Object(s.a)(o.a.mark((function e(t,n){var r,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="string"===typeof n?new b.PublicKey(n):n,a=r.toBase58(),!(c=O.get(a))){e.next=5;break}return e.abrupt("return",c);case 5:if(!(i=w.get(a))){e.next=8;break}return e.abrupt("return",i);case 8:return i=k(t,r).then((function(e){return w.delete(a),O.set(a,e),e})),w.set(a,i),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getMint:function(e){var t;return t="string"!==typeof e?e.toBase58():e,O.get(t)},addMint:function(e,t){var n=K(t.data),r=e.toBase58();return O.set(r,n),n}};var E=function(){var e=Object(d.useConnection)(),t=Object(f.b)().publicKey,n=Object(u.useState)(),a=Object(r.a)(n,2),c=a[0],i=a[1],l=Object(u.useCallback)((function(e){if(t){var n=function(e,t){if(t){var n=new b.PublicKey(e);return{pubkey:e,account:t,info:{address:n,mint:h.j,owner:n,amount:new p.e(t.lamports),delegate:null,delegatedAmount:new p.e(0),isInitialized:!0,isFrozen:!1,isNative:!0,rentExemptReserve:null,closeAuthority:null}}}}(t.toBase58(),e);if(void 0!==n){var r=t.toBase58();A.registerParser(r,S),v.set(r,n),A.emitter.raiseCacheUpdated(r,!1,S,!0)}}}),[t]);return Object(u.useEffect)((function(){var n=0,r=function(e){e&&(l(e),i(e))};return Object(s.a)(o.a.mark((function a(){var c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&t){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,a.next=5,e.getAccountInfo(t);case 5:c=a.sent,r(c),a.next=12;break;case 9:return a.prev=9,a.t0=a.catch(2),a.abrupt("return");case 12:n=e.onAccountChange(t,r);case 13:case"end":return a.stop()}}),a,null,[[2,9]])})))(),function(){n&&e.removeAccountChangeListener(n)}}),[i,t,e,l]),{nativeAccount:c}},P=new Set,M=function(){var e=Object(s.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return P.add(n.toBase58()),e.next=5,t.getTokenAccountsByOwner(n,{programId:Object(j.a)().token});case 5:e.sent.value.forEach((function(e){A.add(e.pubkey.toBase58(),e.account,S)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function I(e){var t=e.children,n=void 0===t?null:t,a=Object(d.useConnection)(),c=Object(f.b)().publicKey,i=Object(u.useState)([]),o=Object(r.a)(i,2),s=o[0],l=o[1],m=Object(u.useState)([]),h=Object(r.a)(m,2),x=h[0],v=h[1],w=E().nativeAccount,O=null===c||void 0===c?void 0:c.toBase58(),k=Object(u.useCallback)((function(){return A.byParser(S).map((function(e){return A.get(e)})).filter((function(e){return e&&e.info.owner.toBase58()===O})).map((function(e){return e}))}),[O]);return Object(u.useEffect)((function(){var e=k().filter((function(e){return void 0!==e}));v(e)}),[w,s,k]),Object(u.useEffect)((function(){var e=[];return A.emitter.onCache((function(e){if(e.isNew&&e.isActive){var t=e.id,n=e.parser;a.onAccountChange(new b.PublicKey(t),(function(e){A.add(t,e,n)}))}})),function(){e.forEach((function(e){return a.removeAccountChangeListener(e)}))}}),[a]),Object(u.useEffect)((function(){if(a&&c){M(a,c).then((function(){l(k())}));var e=a.onProgramAccountChange(Object(j.a)().token,(function(e){var t=e.accountId;if(e.accountInfo.data.length===p.a.span){var n=B(e.accountInfo.data);P.has(n.owner.toBase58())&&(A.add(t,e.accountInfo,S),l(k()))}}),"singleGossip");return function(){a.removeProgramAccountChangeListener(e)}}l([])}),[a,c,k]),Object(g.jsx)(y.Provider,{value:{userAccounts:x,nativeAccount:w},children:n})}var B=function(e){var t=p.a.decode(e);return t.mint=new b.PublicKey(t.mint),t.owner=new b.PublicKey(t.owner),t.amount=p.e.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new p.e(0)):(t.delegate=new b.PublicKey(t.delegate),t.delegatedAmount=p.e.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=p.e.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),0===t.closeAuthorityOption?t.closeAuthority=null:t.closeAuthority=new b.PublicKey(t.closeAuthority),t},K=function(e){if(e.length!==p.b.span)throw new Error("Not a valid Mint");var t=p.b.decode(e);return 0===t.mintAuthorityOption?t.mintAuthority=null:t.mintAuthority=new b.PublicKey(t.mintAuthority),t.supply=p.e.fromBuffer(t.supply),t.isInitialized=0!==t.isInitialized,0===t.freezeAuthorityOption?t.freezeAuthority=null:t.freezeAuthority=new b.PublicKey(t.freezeAuthority),t}}).call(this,n(18).Buffer)},257:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(17),a=n(11),c=n(95),i=function e(t,n,r,c){Object(a.a)(this,e),this.id=void 0,this.parser=void 0,this.isNew=void 0,this.isActive=void 0,this.id=t,this.parser=r,this.isNew=n,this.isActive=c};i.type="CacheUpdate";var o=function e(t){Object(a.a)(this,e),this.id=void 0,this.id=t};o.type="CacheUpdate";var s=function e(t){Object(a.a)(this,e),this.ids=void 0,this.ids=t};s.type="MarketUpdate";var u=function(){function e(){Object(a.a)(this,e),this.emitter=new c.EventEmitter}return Object(r.a)(e,[{key:"onMarket",value:function(e){var t=this;return this.emitter.on(s.type,e),function(){return t.emitter.removeListener(s.type,e)}}},{key:"onCache",value:function(e){var t=this;return this.emitter.on(i.type,e),function(){return t.emitter.removeListener(i.type,e)}}},{key:"raiseMarketUpdated",value:function(e){this.emitter.emit(s.type,new s(e))}},{key:"raiseCacheUpdated",value:function(e,t,n,r){this.emitter.emit(i.type,new i(e,t,n,r))}},{key:"raiseCacheDeleted",value:function(e){this.emitter.emit(o.type,new o(e))}}]),e}()},262:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n(34),a=n(9),c=n(2),i=n.n(c),o=n(8),s=n(1),u=n.n(s),l=n(84),d=n(55),f=n(36),b=n(363),p=n(167),m=n(866),h=n(203),j=n(864),g=n(857),y=n(367),x=n(517),v=n(301),w=n(868),O=n(518),k=n(869),S=n(860),C=n(867),A=n(520),E=n(82),P=n(492),M=n.n(P),I=n(494),B=n.n(I),K=n(493),W=n.n(K),T=n(496),D=n.n(T),N=n(497),F=n.n(N),R=n(5),U=function(e){var t=e.narrow,n=Object(l.b)(),c=n.disconnect,s=n.publicKey,P=Object(d.j)(),I=P.setEndpoint,K=P.env,T=P.endpoint,N=Object(d.l)().setVisible,U=u.a.useCallback((function(){return N(!0)}),[N]),L=Object(d.k)().setModal,z=Object(E.a)(),q=Object(d.h)(),_=u.a.useCallback((function(){L(d.f.WALLET),N(!0)}),[L,N]),G=[{click:function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=4;break}return e.next=3,navigator.clipboard.writeText(s.toBase58());case 3:Object(f.k)({message:"Wallet update",description:"Address copied to clipboard"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),innerNarrow:function(){return"Copy Address (".concat(s&&Object(f.l)(s.toBase58()),")")},inner:function(){return Object(R.jsxs)(u.a.Fragment,{children:[Object(R.jsx)(b.a,{}),s&&Object(f.l)(s.toBase58())]})}},{click:U,inner:function(){return"Change\xa0Wallet"}},{click:function(){return c().catch()},inner:function(){return"Disconnect\xa0(".concat(K,")")},expandedExtra:{color:"error",variant:"contained"}}],H=u.a.useState(!1),J=Object(a.a)(H,2),V=J[0],Y=J[1],Q=u.a.useState(!1),X=Object(a.a)(Q,2),Z=X[0],$=X[1],ee="hackySkipSet",te=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&(t.target.classList.contains(ee)||Y(e))}},ne=function(e){return Object(R.jsxs)(u.a.Fragment,{children:[Object(R.jsx)(p.a,{onClick:te(!0),children:Object(R.jsx)(M.a,{})}),Object(R.jsx)(m.a,{anchor:"right",open:V,onClose:te(!1),children:Object(R.jsx)(h.a,{sx:{width:250},role:"presentation",onClick:te(!1),onKeyDown:te(!1),children:e})})]})},re=Object(R.jsx)(p.a,{sx:{ml:1},onClick:q.toggleColorMode,color:"inherit",children:"dark"===z.palette.mode?Object(R.jsx)(W.a,{}):Object(R.jsx)(B.a,{})});if(t){var ae=Object(R.jsx)(j.a,{children:Object(R.jsx)(g.a,{primary:"Wallet",primaryTypographyProps:{fontSize:"1.2rem",fontWeight:"medium",letterSpacing:0}})});return Object(R.jsxs)(u.a.Fragment,{children:[!s&&ne(Object(R.jsxs)(y.a,{children:[ae,Object(R.jsx)(x.a,{}),Object(R.jsxs)(v.a,{onClick:function(){return $(!Z)},className:ee,children:["Change Network",Z?Object(R.jsx)(D.a,{}):Object(R.jsx)(F.a,{})]}),Object(R.jsx)(w.a,{in:Z,timeout:"auto",unmountOnExit:!0,children:Object(R.jsx)(y.a,{component:"div",disablePadding:!0,children:d.e.map((function(e){return Object(R.jsx)(v.a,{selected:T===e.endpoint,onClick:function(){return I(e.endpoint)},sx:{pl:4},className:ee,children:e.name},e.name)}))})}),Object(R.jsx)(v.a,{onClick:_,children:"Connect"})]})),s&&ne(Object(R.jsxs)(y.a,{children:[ae,Object(R.jsx)(x.a,{}),G.map((function(e,t){return Object(R.jsx)(v.a,{onClick:e.click,children:e.innerNarrow&&e.innerNarrow()||e.inner()},t)}))]})),re]})}return Object(R.jsxs)(O.a,{direction:"row",spacing:2,sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginRight:"36px"},children:[!s&&Object(R.jsxs)(u.a.Fragment,{children:[Object(R.jsx)(k.a,{variant:"standard",style:{minWidth:"10ch"},children:Object(R.jsx)(S.a,{id:"connected-env-select",onChange:function(e){I(e.target.value)},value:T,children:d.e.map((function(e){var t=e.name,n=e.endpoint;return Object(R.jsx)(C.a,{value:n,children:t},t)}))})}),Object(R.jsx)(A.a,{underline:"none",children:Object(R.jsx)(p.a,{variant:"contained",onClick:_,children:"Connect"})})]}),s&&G.map((function(e,t){return Object(R.jsx)(p.a,Object(r.a)(Object(r.a)({variant:"outlined",onClick:e.click},e.expandedExtra),{},{children:e.inner()}),t)}))]})}},263:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(9),a=n(82),c=n(1),i=n.n(c),o=n(5),s=i.a.createContext({}),u=function(e){var t=e.children,n=void 0===t?null:t,c=i.a.useState("dark"),u=Object(r.a)(c,2),l=u[0],d=u[1],f=Object(a.a)();return Object(o.jsx)(s.Provider,{value:{toggleColorMode:function(){d((function(e){return"light"===e?"dark":"light"}))},mode:l,theme:f},children:n})},l=function(){return Object(c.useContext)(s)}},36:function(e,t,n){"use strict";n.d(t,"d",(function(){return r.f})),n.d(t,"e",(function(){return r.h})),n.d(t,"a",(function(){return r.b})),n.d(t,"b",(function(){return r.c})),n.d(t,"c",(function(){return r.d})),n.d(t,"k",(function(){return i})),n.d(t,"l",(function(){return o.b})),n.d(t,"g",(function(){return f.c})),n.d(t,"f",(function(){return f.b})),n.d(t,"j",(function(){return f.g})),n.d(t,"h",(function(){return f.e})),n.d(t,"i",(function(){return f.f}));n(257);var r=n(40),a=(n(215),n(448),n(1),n(515)),c=n(5);function i(e){var t=e.message,n=void 0===t?"":t,r=e.description,i=void 0===r?void 0:r,o=e.txid,s=void 0===o?"":o,u=e.type,l=void 0===u?"info":u,d=e.placement,f=void 0===d?"bottomLeft":d;s&&(i=Object(c.jsx)(c.Fragment,{})),a.a[l]({message:Object(c.jsx)("span",{style:{color:"black"},children:n}),description:Object(c.jsx)("span",{style:{color:"black",opacity:.5},children:i}),placement:f,style:{backgroundColor:"white"}})}var o=n(98);var s=n(7),u=n(138),l=n(44),d=n.n(l);u.BinaryReader.prototype.readPubkey=function(){var e=this.readFixedArray(32);return new s.PublicKey(e)},u.BinaryWriter.prototype.writePubkey=function(e){this.writeFixedArray(e.toBuffer())},u.BinaryReader.prototype.readPubkeyAsString=function(){var e=this.readFixedArray(32);return d.a.encode(e)},u.BinaryWriter.prototype.writePubkeyAsString=function(e){this.writeFixedArray(d.a.decode(e))};var f=n(79)},361:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(161),a=n(818),c=new r.a(a)},40:function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"i",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return b}));n(11),n(17);var r=n(7),a=(new Map,new r.PublicKey("So11111111111111111111111111111111111111112")),c=new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),i=new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),o=new r.PublicKey("BPFLoaderUpgradeab1e11111111111111111111111"),s=new r.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),u=new r.PublicKey("11111111111111111111111111111111"),l=new r.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),d=new r.PublicKey("cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ"),f=new r.PublicKey("gdrpGjVffourzkdDRrQmySw4aTHr8a3xmQzzxSwFD1a"),b=new r.PublicKey("MSv9H2sMceAzccBganUXwGq3GXgqYAstmZAbFDZYbAV")},448:function(e,t,n){"use strict";(function(e){n(14),n(7),n(26),n(99)}).call(this,n(18).Buffer)},498:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(33),a=n(2),c=n.n(a),i=n(14),o=n(9),s=n(8),u=n(1),l=n.n(u),d=n(499),f=n.n(d),b=(n(817),n(520)),p=n(870),m=n(202),h=n(203),j=n(167),g=n(865),y=n(871),x=n(863),v=n(518),w=n(84),O=n(7),k=n(41),S=n(58),C=n(26),A=n.n(C),E=n(44),P=n(55),M=n(36),I=n(200),B=n(107),K=n(100),W=n(361),T=n(5),D=function(){var t=Object(s.a)(c.a.mark((function t(n,r,a,s){var u,l,d,f,b;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==a){t.next=13;break}if(t.prev=1,(u=new O.PublicKey(r)).equals(n)){t.next=5;break}throw new Error("Claimant wallet handle does not match connected wallet");case 5:return t.abrupt("return",[u,[]]);case 8:throw t.prev=8,t.t0=t.catch(1),new Error("Invalid claimant wallet handle ".concat(t.t0));case 11:t.next=20;break;case 13:return l=[s.toBuffer(),e.from(r),e.from(a.toArray("le",4))],t.next=16,O.PublicKey.findProgramAddress([l[0]].concat(Object(i.a)(Object(K.b)(l[1],32)),[l[2]]),M.b);case 16:return d=t.sent,f=Object(o.a)(d,1),b=f[0],t.abrupt("return",[b,l]);case 20:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n,r,a){return t.apply(this,arguments)}}(),N=function(){var t=Object(s.a)(c.a.mark((function t(n,r,a,s,u,l,d,f,b,p){var m,h,j,g,y,x,v,w,C,E,P,B,K,W,T,N,F,R,U;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,m=new O.PublicKey(u),t.next=7;break;case 4:throw t.prev=4,t.t0=t.catch(0),new Error("Invalid tokenAcc key ".concat(t.t0));case 7:return t.next=9,n.getAccountInfo(m);case 9:if(null!==(h=t.sent)){t.next=12;break}throw new Error("Could not fetch distributor token account");case 12:return j=k.a.decode(h.data),g=new O.PublicKey(j.mint),console.log(g.toBase58()),t.next=17,D(r,d,p,g);case 17:if(y=t.sent,x=Object(o.a)(y,2),v=x[0],w=x[1],C=e.from([].concat(Object(i.a)(new A.a(b).toArray("le",8)),Object(i.a)(v.toBuffer()),Object(i.a)(g.toBuffer()),Object(i.a)(new A.a(f).toArray("le",8)))),I.a.verifyClaim(C,l,e.from(s.root))){t.next=25;break}throw new Error("Gumdrop merkle proof does not match");case 25:return t.next=27,O.PublicKey.findProgramAddress([e.from("ClaimStatus"),e.from(new A.a(b).toArray("le",8)),a.toBuffer()],M.b);case 27:return E=t.sent,P=Object(o.a)(E,2),B=P[0],K=P[1],t.next=33,O.PublicKey.findProgramAddress([r.toBuffer(),k.c.toBuffer(),g.toBuffer()],M.d);case 33:return W=t.sent,T=Object(o.a)(W,1),N=T[0],F=[],t.next=39,n.getAccountInfo(N);case 39:if(t.t1=t.sent,null!==t.t1){t.next=42;break}F.push(k.d.createAssociatedTokenAccountInstruction(M.d,k.c,g,N,r,r));case 42:return R=s.temporal.equals(O.PublicKey.default)||v.equals(r)?r:s.temporal,U=new O.TransactionInstruction({programId:M.b,keys:[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:N,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:O.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:k.c,isSigner:!1,isWritable:!1}],data:e.from([].concat(Object(i.a)(e.from(S.sha256.digest("global:claim")).slice(0,8)),Object(i.a)(new A.a(K).toArray("le",1)),Object(i.a)(new A.a(b).toArray("le",8)),Object(i.a)(new A.a(f).toArray("le",8)),Object(i.a)(v.toBuffer()),Object(i.a)(new A.a(l.length).toArray("le",4)),Object(i.a)(e.concat(l))))}),t.abrupt("return",[[].concat(F,[U]),w,[]]);case 45:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(e,n,r,a,c,i,o,s,u,l){return t.apply(this,arguments)}}(),F=function(){var t=Object(s.a)(c.a.mark((function t(n,r,a,s,u,l,d,f,b,p,m){var h,j,g,y,x,v,w,k,S,C,E,P,B,K,T,N,F,U,L,z,q,_,G,H,J,V,Y,Q,X,Z;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,h=new O.PublicKey(u),t.next=7;break;case 4:throw t.prev=4,t.t0=t.catch(0),new Error("Invalid candy config key ".concat(t.t0));case 7:return t.next=9,D(r,f,m,h);case 9:if(j=t.sent,g=Object(o.a)(j,2),y=g[0],x=g[1],v=e.from([].concat(Object(i.a)(new A.a(p).toArray("le",8)),Object(i.a)(y.toBuffer()),Object(i.a)(h.toBuffer()),Object(i.a)(new A.a(b).toArray("le",8)))),I.a.verifyClaim(v,d,e.from(s.root))){t.next=17;break}throw new Error("Gumdrop merkle proof does not match");case 17:return t.next=19,O.PublicKey.findProgramAddress([e.from("ClaimCount"),e.from(new A.a(p).toArray("le",8)),a.toBuffer()],M.b);case 19:return w=t.sent,k=Object(o.a)(w,2),S=k[0],C=k[1],t.next=25,O.PublicKey.findProgramAddress([e.from("Wallet"),a.toBuffer()],M.b);case 25:return E=t.sent,P=Object(o.a)(E,2),B=P[0],K=P[1],T=s.temporal.equals(O.PublicKey.default)||y.equals(r)?r:s.temporal,N=[],t.next=33,n.getAccountInfo(S);case 33:if(F=t.sent,U=0,null!==F){t.next=38;break}t.next=46;break;case 38:if(L=W.a.accounts.decode("ClaimCount",F.data),U=L.count,!L.claimant.equals(r)){t.next=44;break}T=r,t.next=46;break;case 44:throw z=L.claimant.toBase58(),new Error("This wallet does not match existing claimant ".concat(z));case 46:if(!(U>=(q=b))){t.next=49;break}throw new Error("Cannot mint another NFT. ".concat(q," NFT(s) were originally allocated")+(U>0?" and ".concat(U," NFT(s) were already minted"):""));case 49:return t.next=51,Object(M.g)(h,l);case 51:return _=t.sent,G=Object(o.a)(_,1),H=G[0],t.next=56,Object(M.f)(n,H);case 56:return J=t.sent,console.log("Candy Machine",J),V=[],t.next=61,R(n,r,a,B,S,T,h,H,J.wallet,e.from([].concat(Object(i.a)(new A.a(K).toArray("le",1)),Object(i.a)(new A.a(C).toArray("le",1)),Object(i.a)(new A.a(p).toArray("le",8)),Object(i.a)(new A.a(b).toArray("le",8)),Object(i.a)(y.toBuffer()),Object(i.a)(new A.a(d.length).toArray("le",4)),Object(i.a)(e.concat(d)))));case 61:return Y=t.sent,Q=Object(o.a)(Y,2),X=Q[0],Z=Q[1],V.push(Z),N.push.apply(N,Object(i.a)(X)),t.abrupt("return",[N,x,V]);case 68:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(e,n,r,a,c,i,o,s,u,l,d){return t.apply(this,arguments)}}(),R=function(){var t=Object(s.a)(c.a.mark((function t(n,r,a,o,s,u,l,d,f,b){var p,m,h,j;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p=O.Keypair.generate(),t.next=3,Object(M.j)(p.publicKey);case 3:return m=t.sent,t.next=6,Object(M.h)(p.publicKey);case 6:return h=t.sent,j=[],t.next=10,U(n,r,p.publicKey,j);case 10:return j.push(new O.TransactionInstruction({programId:M.b,keys:[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:p.publicKey,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:O.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:k.c,isSigner:!1,isWritable:!1},{pubkey:M.e,isSigner:!1,isWritable:!1},{pubkey:M.a,isSigner:!1,isWritable:!1},{pubkey:O.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:O.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],data:e.from([].concat(Object(i.a)(e.from(S.sha256.digest("global:claim_candy")).slice(0,8)),Object(i.a)(b)))})),t.abrupt("return",[j,p]);case 12:case"end":return t.stop()}}),t)})));return function(e,n,r,a,c,i,o,s,u,l){return t.apply(this,arguments)}}(),U=function(){var e=Object(s.a)(c.a.mark((function e(t,n,r,a){var i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.PublicKey.findProgramAddress([n.toBuffer(),k.c.toBuffer(),r.toBuffer()],M.d);case 2:return i=e.sent,s=Object(o.a)(i,1),u=s[0],e.t0=a,e.t1=O.SystemProgram,e.t2=n,e.t3=r,e.t4=k.b.span,e.next=12,t.getMinimumBalanceForRentExemption(k.b.span);case 12:e.t5=e.sent,e.t6=k.c,e.t7={fromPubkey:e.t2,newAccountPubkey:e.t3,space:e.t4,lamports:e.t5,programId:e.t6},e.t8=e.t1.createAccount.call(e.t1,e.t7),e.t0.push.call(e.t0,e.t8),a.push(k.d.createInitMintInstruction(k.c,r,0,n,n)),a.push(k.d.createAssociatedTokenAccountInstruction(M.d,k.c,r,u,n,n)),a.push(k.d.createMintToInstruction(k.c,r,u,n,[],1));case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),L=function(){var t=Object(s.a)(c.a.mark((function t(n,r,a,s,u,l,d,f,b,p,m){var h,j,g,y,x,v,w,C,E,P,B,K,W,T,N,F,R,L,z,q,_;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,h=new O.PublicKey(u),t.next=7;break;case 4:throw t.prev=4,t.t0=t.catch(0),new Error("Invalid master mint key ".concat(t.t0));case 7:return t.next=9,D(r,f,m,h);case 9:if(j=t.sent,g=Object(o.a)(j,2),y=g[0],x=g[1],v=e.from([].concat(Object(i.a)(new A.a(p).toArray("le",8)),Object(i.a)(y.toBuffer()),Object(i.a)(h.toBuffer()),Object(i.a)(new A.a(b).toArray("le",8)),Object(i.a)(new A.a(l).toArray("le",8)))),I.a.verifyClaim(v,d,e.from(s.root))){t.next=17;break}throw new Error("Gumdrop merkle proof does not match");case 17:return t.next=19,O.PublicKey.findProgramAddress([e.from("ClaimCount"),e.from(new A.a(p).toArray("le",8)),a.toBuffer()],M.b);case 19:return w=t.sent,C=Object(o.a)(w,2),E=C[0],P=C[1],B=s.temporal.equals(O.PublicKey.default)||y.equals(r)?r:s.temporal,t.next=26,n.getAccountInfo(E);case 26:if(null===t.sent){t.next=29;break}throw new Error("This edition was already claimed");case 29:return K=[],W=O.Keypair.generate(),t.next=33,Object(M.j)(W.publicKey);case 33:return T=t.sent,t.next=36,Object(M.j)(h);case 36:return N=t.sent,t.next=39,Object(M.h)(W.publicKey);case 39:return F=t.sent,t.next=42,Object(M.h)(h);case 42:return R=t.sent,t.next=45,U(n,r,W.publicKey,K);case 45:return t.next=47,O.PublicKey.findProgramAddress([a.toBuffer(),k.c.toBuffer(),h.toBuffer()],M.d);case 47:return L=t.sent,z=Object(o.a)(L,1),q=z[0],t.next=52,Object(M.i)(h,new A.a(l));case 52:return _=t.sent,K.push(new O.TransactionInstruction({programId:M.b,keys:[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!0},{pubkey:B,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:F,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:W.publicKey,isSigner:!1,isWritable:!0},{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:q,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:N,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:O.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:k.c,isSigner:!1,isWritable:!1},{pubkey:M.e,isSigner:!1,isWritable:!1},{pubkey:O.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],data:e.from([].concat(Object(i.a)(e.from(S.sha256.digest("global:claim_edition")).slice(0,8)),Object(i.a)(new A.a(P).toArray("le",1)),Object(i.a)(new A.a(p).toArray("le",8)),Object(i.a)(new A.a(b).toArray("le",8)),Object(i.a)(new A.a(l).toArray("le",8)),Object(i.a)(y.toBuffer()),Object(i.a)(new A.a(d.length).toArray("le",4)),Object(i.a)(e.concat(d))))})),t.abrupt("return",[K,x,[W]]);case 55:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(e,n,r,a,c,i,o,s,u,l,d){return t.apply(this,arguments)}}(),z=function(){var e=Object(s.a)(c.a.mark((function e(t,n){var r,a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=new O.PublicKey(n),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new Error("Invalid distributor key ".concat(e.t0));case 7:return e.next=9,t.getAccountInfo(r);case 9:if(null!==(a=e.sent)){e.next=12;break}throw new Error("Could not fetch distributor ".concat(n));case 12:if(a.owner.equals(M.b)){e.next=15;break}throw i=a.owner.toBase58(),new Error("Invalid distributor owner ".concat(i));case 15:return o=W.a.accounts.decode("MerkleDistributor",a.data),e.abrupt("return",[r,o]);case 17:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var t=Object(s.a)(c.a.mark((function t(n,r,a,i){var s,u,l,d,f,b,p;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(n,r);case 2:if(s=t.sent,u=Object(o.a)(s,2),l=u[0],u[1].temporal.equals(M.c)){t.next=10;break}return t.abrupt("return",!1);case 10:if("candy"!==i){t.next=22;break}return t.next=13,O.PublicKey.findProgramAddress([e.from("ClaimCount"),e.from(new A.a(Number(a)).toArray("le",8)),l.toBuffer()],M.b);case 13:return d=t.sent,f=Object(o.a)(d,1),b=f[0],t.next=18,n.getAccountInfo(b);case 18:return p=t.sent,t.abrupt("return",null===p);case 22:return t.abrupt("return",!0);case 23:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),_=function(t){var n=Object(P.i)(),a=Object(w.b)(),u=t.location.search;if(u&&u.length>0)localStorage.setItem("claimQuery",u);else{var d=localStorage.getItem("claimQuery");d&&(u=d)}var k=f.a.parse(u),S=l.a.useState(k.distributor||""),C=Object(o.a)(S,2),I=C[0],K=(C[1],l.a.useState(k.tokenAcc?"transfer":k.config?"candy":k.master?"edition":"")),W=Object(o.a)(K,2),D=W[0],R=(W[1],l.a.useState(k.tokenAcc||"")),U=Object(o.a)(R,2),_=U[0],G=(U[1],l.a.useState(k.config||"")),H=Object(o.a)(G,2),J=H[0],V=H[1],Y=l.a.useState(k.uuid||""),Q=Object(o.a)(Y,2),X=Q[0],Z=Q[1],$=l.a.useState(k.master||""),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],re=l.a.useState(k.edition||""),ae=Object(o.a)(re,2),ce=ae[0],ie=ae[1],oe=l.a.useState(k.handle||""),se=Object(o.a)(oe,2),ue=se[0],le=(se[1],l.a.useState(k.amount||"")),de=Object(o.a)(le,2),fe=de[0],be=(de[1],l.a.useState(k.index||"")),pe=Object(o.a)(be,2),me=pe[0],he=(pe[1],l.a.useState(k.pin||"")),je=Object(o.a)(he,2),ge=je[0],ye=je[1],xe=l.a.useState(k.proof||""),ve=Object(o.a)(xe,2),we=ve[0],Oe=(ve[1],k.guild),ke=I.length>0&&("transfer"===D?_.length>0:"candy"===D?J.length>0&&X.length>0:"edition"===D&&(te.length>0&&ce.length>0))&&ue.length>0&&fe.length>0&&me.length>0,Se=l.a.useState(!ke),Ce=Object(o.a)(Se,2),Ae=Ce[0],Ee=(Ce[1],l.a.useState(null)),Pe=Object(o.a)(Ee,2),Me=Pe[0],Ie=Pe[1],Be=l.a.useState(""),Ke=Object(o.a)(Be,2),We=Ke[0],Te=Ke[1],De=l.a.useState(!0),Ne=Object(o.a)(De,2),Fe=Ne[0],Re=Ne[1];l.a.useEffect((function(){var e=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Re,e.next=4,q(n,I,me,D);case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=10;break;case 8:e.prev=8,e.t2=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[n,I,me,D]);var Ue="https://n82bm4ts81.execute-api.us-east-2.amazonaws.com/send-OTP",Le=function(){var t=Object(s.a)(c.a.mark((function t(s){var u,l,d,f,b,p,m,h,j,g,y,x,v,w,S,C,P,B,K,W,T,R,U,q,G,H,V,Y,Q,Z,$,ee;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),a.connected&&null!==a.publicKey){t.next=3;break}throw new Error("Wallet not connected");case 3:if(u=Number(me),l=Number(fe),d=null,!isNaN(l)){t.next=8;break}throw new Error("Could not parse amount ".concat(fe));case 8:if(!isNaN(u)){t.next=10;break}throw new Error("Could not parse index ".concat(me));case 10:if("NA"===k.pin){t.next=18;break}t.prev=11,d=new A.a(ge),t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(11),new Error("Could not parse pin ".concat(ge,": ").concat(t.t0));case 18:return t.next=20,z(n,I);case 20:if(f=t.sent,b=Object(o.a)(f,2),p=b[0],m=b[1],console.log("Distributor",m),h=""===we?[]:we.split(",").map((function(t){var n=e.from(E.decode(t));if(32!==n.length)throw new Error("Invalid proof hash length");return n})),"candy"!==D){t.next=37;break}return console.log("Building candy claim"),t.next=30,F(n,a.publicKey,p,m,J,X,h,ue,l,u,d);case 30:x=t.sent,v=Object(o.a)(x,3),j=v[0],g=v[1],y=v[2],t.next=61;break;case 37:if("transfer"!==D){t.next=47;break}return t.next=40,N(n,a.publicKey,p,m,_,h,ue,l,u,d);case 40:w=t.sent,S=Object(o.a)(w,3),j=S[0],g=S[1],y=S[2],t.next=61;break;case 47:if("edition"!==D){t.next=60;break}if(C=Number(ce),!isNaN(C)){t.next=51;break}throw new Error("Could not parse edition ".concat(ce));case 51:return t.next=53,L(n,a.publicKey,p,m,te,C,h,ue,l,u,d);case 53:P=t.sent,B=Object(o.a)(P,3),j=B[0],g=B[1],y=B[2],t.next=61;break;case 60:throw new Error("Unknown claim method ".concat(D));case 61:if(!(null===d&&g.length>0)){t.next=63;break}throw new Error("Internal error: PDA generated when distributing to wallet directly");case 63:return t.t1=O.Transaction,t.t2=a.publicKey,t.next=67,n.getRecentBlockhash("singleGossip");case 67:t.t3=t.sent.blockhash,t.t4={feePayer:t.t2,recentBlockhash:t.t3},K=new t.t1(t.t4),W=new Set,T=Object(r.a)(j);try{for(T.s();!(R=T.n()).done;){U=R.value,K.add(U),q=Object(r.a)(U.keys);try{for(q.s();!(G=q.n()).done;)(H=G.value).isSigner&&W.add(H.pubkey)}catch(c){q.e(c)}finally{q.f()}}}catch(c){T.e(c)}finally{T.f()}if(console.log("Expecting the following signers: ".concat(Object(i.a)(W).map((function(e){return e.toBase58()})))),K.setSigners.apply(K,Object(i.a)(W)),y.length>0&&K.partialSign.apply(K,Object(i.a)(y)),!K.signatures.some((function(e){return e.publicKey.equals(M.c)}))){t.next=101;break}return V={method:"send",transaction:E.encode(K.serializeMessage()),seeds:g},Oe&&(V.discordGuild=Oe),Y={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)},t.next=83,fetch(Ue,Y);case 83:if(Q=t.sent,console.log(Q),200===Q.status){t.next=87;break}throw new Error("Failed to send AWS OTP");case 87:return t.prev=87,t.next=90,Q.json();case 90:Z=t.sent,t.next=96;break;case 93:throw t.prev=93,t.t5=t.catch(87),new Error("Could not parse AWS OTP response");case 96:if(console.log("AWS OTP response data:",Z),Oe?($=!!Z.id,ee="discord"):($=!!Z.MessageId,ee="email"),$){t.next=100;break}throw new Error("Failed to send AWS OTP");case 100:Object(M.k)({message:"OTP sent",description:"Please check your ".concat(ee," (").concat(ue,") for an OTP")});case 101:return t.abrupt("return",K);case 102:case"end":return t.stop()}}),t,null,[[11,15],[87,93]])})));return function(e){return t.apply(this,arguments)}}(),ze=function(){var e=Object(s.a)(c.a.mark((function e(t,r){var i,o,s,u,l,d,f,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r){e.next=3;break}throw new Error("Transaction not available for OTP verification");case 3:if(a.connected&&null!==a.publicKey){e.next=5;break}throw new Error("Wallet not connected");case 5:if(!r.signatures.some((function(e){return e.publicKey.equals(M.c)}))){e.next=36;break}if(i=Number(We),!isNaN(i)&&0!==We.length){e.next=10;break}throw new Error("Could not parse OTP ".concat(We));case 10:return o={method:"POST",headers:{"Content-Type":"application/json"},FunctionName:"send-OTP",body:JSON.stringify({method:"verify",otp:i,handle:ue})},e.next=13,fetch(Ue,o);case 13:if(s=e.sent,console.log(s),200===s.status){e.next=18;break}throw u=JSON.stringify(s),new Error("Failed to verify AWS OTP. ".concat(u));case 18:return e.prev=18,e.next=21,s.json();case 21:l=e.sent,e.next=27;break;case 24:throw e.prev=24,e.t0=e.catch(18),new Error("Could not parse AWS OTP verification response");case 27:console.log("AWS verify response data:",l),e.prev=28,d=E.decode(l),e.next=35;break;case 32:throw e.prev=32,e.t1=e.catch(28),new Error("Could not decode transaction signature ".concat(l.body));case 35:r.addSignature(M.c,d);case 36:return e.prev=36,e.next=39,a.signTransaction(r);case 39:f=e.sent,e.next=45;break;case 42:throw e.prev=42,e.t2=e.catch(36),new Error("Failed to sign transaction");case 45:return e.next=47,Object(B.c)({connection:n,signedTransaction:f});case 47:return p=e.sent,console.log(p),Object(M.k)({message:"Claim succeeded",description:Object(T.jsx)(b.a,{href:Object(B.b)(p.txid,n),children:"View transaction on explorer"})}),Ie(null),e.prev=51,e.t3=Re,e.next=55,q(n,I,me,D);case 55:e.t4=e.sent,(0,e.t3)(e.t4),e.next=61;break;case 59:e.prev=59,e.t5=e.catch(51);case 61:case"end":return e.stop()}}),e,null,[[18,24],[28,32],[36,42],[51,59]])})));return function(t,n){return e.apply(this,arguments)}}(),qe=l.a.useState(!1),_e=Object(o.a)(qe,2),Ge=_e[0],He=_e[1],Je=function(){return Object(T.jsx)(p.a,{size:24,sx:{position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})},Ve=function(e){return"candy"===e?Object(T.jsxs)(l.a.Fragment,{children:[Object(T.jsx)(m.a,{id:"config-text-field",label:"Candy Config",value:J,onChange:function(e){return V(e.target.value)},disabled:!Ae}),Object(T.jsx)(m.a,{id:"config-uuid-text-field",label:"Candy UUID",value:X,onChange:function(e){return Z(e.target.value)},disabled:!Ae})]}):"transfer"===e?Object(T.jsx)(l.a.Fragment,{}):"edition"===e?Object(T.jsxs)(l.a.Fragment,{children:[Object(T.jsx)(m.a,{id:"master-mint-text-field",label:"Master Mint",value:te,onChange:function(e){return ne(e.target.value)},disabled:!Ae}),Object(T.jsx)(m.a,{id:"edition-text-field",label:"Edition",value:ce,onChange:function(e){return ie(e.target.value)},disabled:!Ae})]}):void 0},Ye=[{name:"Populate Claim",inner:function(e){return Object(T.jsxs)(l.a.Fragment,{children:[Object(T.jsx)("div",{className:"profile-img"}),Object(T.jsx)("h1",{children:"Pixel Invader Drone Mint Tickets"}),Object(T.jsx)("p",{children:"Here you can claim your PIDT token which will allow you to mint your own Pixel Invader Drone for FREE later in February."}),""!==D&&Ve(D),Object(T.jsxs)("div",{className:"claim-box",children:[Object(T.jsx)("div",{className:"lab",children:"Amount: "}),Object(T.jsx)("div",{className:"val",children:parseInt(fe)/1e9}),Object(T.jsx)("div",{className:"token-img"})]}),"NA"!==k.pin&&Object(T.jsx)(m.a,{id:"pin-text-field",label:"Pin",value:ge,onChange:function(e){return ye(e.target.value)},disabled:!Ae}),Object(T.jsx)(h.a,{}),Object(T.jsxs)(h.a,{sx:{position:"relative"},children:[Object(T.jsx)(j.a,{disabled:!a.connected||!ke||Ge,variant:"contained",style:{width:"100%"},color:Fe?"primary":"success",onClick:function(t){He(!0);var r=function(){var r=Object(s.a)(c.a.mark((function r(){var a,i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,q(n,I,me,D);case 3:return a=r.sent,r.next=6,Le(t);case 6:if(i=r.sent,a){r.next=12;break}return r.next=10,ze(t,i);case 10:r.next=13;break;case 12:Ie(i);case 13:He(!1),e(),r.next=21;break;case 17:r.prev=17,r.t0=r.catch(0),Object(M.k)({message:"Claim failed, please contact our team on Discord!",description:"Perhaps you have already claimed your reward, check your wallet balance."}),He(!1);case 21:case"end":return r.stop()}}),r,null,[[0,17]])})));return function(){return r.apply(this,arguments)}}();r()},children:Fe?"Next":"Claim Gumdrop"}),Ge&&Je()]})]})}}];Fe&&Ye.push({name:"Verify OTP",inner:function(e){return Object(T.jsxs)(l.a.Fragment,{children:[Object(T.jsx)(m.a,{id:"otp-text-field",label:"OTP",value:We,onChange:function(e){return Te(e.target.value)}}),Object(T.jsx)(h.a,{}),Object(T.jsxs)(h.a,{sx:{position:"relative"},children:[Object(T.jsx)(j.a,{disabled:!a.connected||!We||Ge,variant:"contained",color:"success",style:{width:"100%"},onClick:function(t){He(!0);var n=function(){var n=Object(s.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ze(t,Me);case 3:He(!1),e(),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),Object(M.k)({message:"Claim failed",description:"".concat(n.t0)}),He(!1);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n()},children:"Claim Gumdrop"}),Ge&&Je()]})]})}});var Qe=l.a.useState(0),Xe=Object(o.a)(Qe,2),Ze=Xe[0],$e=Xe[1],et=Math.min(Ze,Ye.length-1),tt=Object(T.jsxs)(l.a.Fragment,{children:[Object(T.jsx)(g.a,{activeStep:et,children:Ye.map((function(e,t){return Object(T.jsx)(y.a,{children:Object(T.jsx)(x.a,{children:e.name})},e.name)}))}),Object(T.jsx)(h.a,{})]});return Object(T.jsxs)(v.a,{spacing:2,children:[Fe&&tt,Ye[et].inner((function(){$e((function(e){return e===Ye.length-1?0:e+1}))})),et>0&&Object(T.jsx)(j.a,{color:"info",onClick:function(){$e((function(e){return e-1}))},children:"Back"})]})}}).call(this,n(18).Buffer)},539:function(e,t){},540:function(e,t){},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return a.ENDPOINTS})),n.d(t,"d",(function(){return a.ConnectionProvider})),n.d(t,"i",(function(){return a.useConnection})),n.d(t,"j",(function(){return a.useConnectionConfig})),n.d(t,"l",(function(){return m})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return h})),n.d(t,"k",(function(){return v})),n.d(t,"b",(function(){return w.a})),n.d(t,"h",(function(){return w.b}));var r=n(235),a=n(130),c=n(9),i=n(84),o=n(152),s=n(226),u=n(1),l=n.n(u),d=n(36),f=n(216),b=(n(913),n(98),n(5)),p=(n(262),n.p,Object(u.createContext)({}));function m(){return Object(u.useContext)(p)}var h,j=function(){var e=Object(i.b)(),t=e.wallets,n=e.wallet,r=e.select,a=m(),o=a.visible,l=a.setVisible,d=Object(u.useState)(!1),p=Object(c.a)(d,2)[1],h=Object(u.useCallback)((function(){l(!1),p(!1)}),[l,p]);return Object(b.jsxs)(f.a,{visible:o,onCancel:h,children:[Object(b.jsx)("div",{style:{background:"linear-gradient(180deg, #D329FC 0%, #8F6DDE 49.48%, #19E6AD 100%)",borderRadius:36,width:50,height:50,textAlign:"center",verticalAlign:"middle",fontWeight:700,fontSize:"1.3rem",lineHeight:2.4,marginBottom:10}}),Object(b.jsx)("h2",{style:{color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:n?"Change provider":""}),Object(b.jsx)("p",{style:{color:"white",fontSize:"1rem"},children:n?"Choose from the following options:":"Please sign into your wallet"}),Object(b.jsx)("br",{}),t.map((function(e){return Object(b.jsx)(s.a,{size:"large",type:e===n?"primary":"ghost",onClick:function(){r(e.name),h()},icon:Object(b.jsx)("img",{alt:"".concat(e.name),width:20,height:20,src:e.icon,style:{marginRight:30,float:"left"}}),style:{display:"block",width:"100%",textAlign:"left",marginBottom:8,color:"white"},children:e.name},e.name)}))]})},g=function(e){var t=e.children,n=Object(i.b)().publicKey,r=Object(u.useState)(!!n),a=Object(c.a)(r,2),o=a[0],s=a[1],l=Object(u.useState)(!1),f=Object(c.a)(l,2),m=f[0],h=f[1];return Object(u.useEffect)((function(){if(n){var e=n.toBase58(),t=e.length>20?"".concat(e.substring(0,7),".....").concat(e.substring(e.length-7,e.length)):e;Object(d.k)({message:"Wallet update",description:"Connected to wallet "+t})}}),[n]),Object(u.useEffect)((function(){!n&&o&&Object(d.k)({message:"Wallet update",description:"Disconnected from wallet"}),s(!!n)}),[n,o,s]),Object(b.jsxs)(p.Provider,{value:{visible:m,setVisible:h},children:[t,Object(b.jsx)(j,{})]})},y=function(e){var t=e.children,n=Object(u.useMemo)((function(){return[Object(o.c)(),Object(o.d)(),Object(o.g)({options:{clientId:"BEB_D44HovHuXH0Ace97QVqSu1ahCKndjpGhzhVcMy_9XmDTbHyqTbzQTufcyaN0kFwtlVbfPzJwpJXg94gWJqE",uxMode:"redirect"}}),Object(o.a)(),Object(o.f)(),Object(o.b)(),Object(o.e)()]}),[]),r=Object(u.useCallback)((function(e){console.error(e),Object(d.k)({message:"Wallet error",description:e.message})}),[]);return Object(b.jsx)(i.a,{wallets:n,onError:r,autoConnect:!0,children:Object(b.jsx)(g,{children:t})})};!function(e){e.WALLET="wallet"}(h||(h={}));var x=l.a.createContext({setModal:function(){return null},removeModal:function(){return null}}),v=function(){var e=Object(u.useContext)(x);if(void 0===e)throw new Error("useModal must be used within a ModalProvider");return e},w=n(263)},561:function(e,t){},562:function(e,t){},621:function(e,t){},623:function(e,t){},637:function(e,t){},641:function(e,t){},643:function(e,t){},655:function(e,t){},657:function(e,t){},684:function(e,t){},686:function(e,t){},691:function(e,t){},693:function(e,t){},700:function(e,t){},712:function(e,t){},715:function(e,t){},726:function(e,t){},734:function(e,t,n){},79:function(e,t,n){"use strict";(function(e){n.d(t,"h",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return g})),n.d(t,"g",(function(){return y})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return v}));var r=n(9),a=n(2),c=n.n(a),i=n(8),o=n(161),s=n(7),u=n(41),l=n(26),d=n.n(l),f=n(40),b=function(){var t=Object(i.a)(c.a.mark((function t(n,r){var a,i,o,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,a=new s.PublicKey(r),t.next=7;break;case 4:throw t.prev=4,t.t0=t.catch(0),new Error("Invalid mint key ".concat(t.t0));case 7:return t.next=9,n.getAccountInfo(a);case 9:if(null!==(i=t.sent)){t.next=12;break}throw new Error("Could not fetch mint");case 12:if(i.owner.equals(f.i)){t.next=15;break}throw o=i.owner.toBase58(),new Error("Invalid mint owner ".concat(o));case 15:if(i.data.length===u.b.span){t.next=17;break}throw new Error("Invalid mint size ".concat(i.data.length));case 17:return l=u.b.decode(e.from(i.data)),t.abrupt("return",{key:a,info:l});case 19:case"end":return t.stop()}}),t,null,[[0,4]])})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=Object(i.a)(c.a.mark((function t(n,a,i,o){var l,b,p,m,h;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.PublicKey.findProgramAddress([n.toBuffer(),f.i.toBuffer(),i.toBuffer()],f.f);case 2:return l=t.sent,b=Object(r.a)(l,1),p=b[0],t.next=7,a.getAccountInfo(p);case 7:if(null!==(m=t.sent)){t.next=10;break}throw new Error("Could not fetch creator token account");case 10:if(m.data.length===u.a.span){t.next=12;break}throw new Error("Invalid token account size ".concat(m.data.length));case 12:if(h=u.a.decode(e.from(m.data)),!(new d.a(h.amount,8,"le").toNumber()<o)){t.next=15;break}throw new Error("Creator token account does not have enough tokens");case 15:return t.abrupt("return",p);case 16:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o.a,e.next=3,o.b.fetchIdl(t,{connection:n});case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=new s.PublicKey(n),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new Error("Invalid config key ".concat(e.t0));case 7:return e.next=9,t.getAccountInfo(r);case 9:if(null!==(a=e.sent)){e.next=12;break}throw new Error("Could not fetch config");case 12:if(a.owner.equals(f.b)){e.next=14;break}throw new Error("Invalid config owner ".concat(a.owner.toBase58()));case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var t=Object(i.a)(c.a.mark((function t(n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.PublicKey.findProgramAddress([e.from("candy_machine"),n.toBuffer(),e.from(r)],f.b);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(f.b,t);case 2:if(null!==(r=e.sent)){e.next=5;break}throw new Error("Could not fetch candy machine IDL");case 5:return e.next=7,t.getAccountInfo(n);case 7:if(null!==(a=e.sent)){e.next=10;break}throw new Error("Could not fetch candy machine");case 10:return e.abrupt("return",r.accounts.decode("CandyMachine",a.data));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var t=Object(i.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.PublicKey.findProgramAddress([e.from("metadata"),f.h.toBuffer(),n.toBuffer()],f.h);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(i.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.PublicKey.findProgramAddress([e.from("metadata"),f.h.toBuffer(),n.toBuffer(),e.from("edition")],f.h);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(i.a)(c.a.mark((function t(n,r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.div(new d.a(248)).toNumber(),t.next=3,s.PublicKey.findProgramAddress([e.from("metadata"),f.h.toBuffer(),n.toBuffer(),e.from("edition"),e.from(String(a))],f.h);case 3:return t.abrupt("return",t.sent[0]);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}).call(this,n(18).Buffer)},812:function(e,t,n){},813:function(e,t,n){},817:function(e,t,n){},818:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"merkle_distributor","instructions":[{"name":"newDistributor","accounts":[{"name":"base","isMut":false,"isSigner":true},{"name":"distributor","isMut":true,"isSigner":false},{"name":"payer","isMut":false,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"},{"name":"root","type":{"array":["u8",32]}},{"name":"temporal","type":"publicKey"}]},{"name":"closeDistributor","accounts":[{"name":"base","isMut":false,"isSigner":true},{"name":"distributor","isMut":true,"isSigner":false},{"name":"distributorWallet","isMut":true,"isSigner":false},{"name":"receiver","isMut":false,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"},{"name":"walletBump","type":"u8"}]},{"name":"claim","accounts":[{"name":"distributor","isMut":true,"isSigner":false},{"name":"claimStatus","isMut":true,"isSigner":false},{"name":"from","isMut":true,"isSigner":false},{"name":"to","isMut":true,"isSigner":false},{"name":"temporal","isMut":false,"isSigner":true},{"name":"payer","isMut":false,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"},{"name":"index","type":"u64"},{"name":"amount","type":"u64"},{"name":"claimantSecret","type":"publicKey"},{"name":"proof","type":{"vec":{"array":["u8",32]}}}]},{"name":"claimCandy","accounts":[{"name":"distributor","isMut":true,"isSigner":false},{"name":"distributorWallet","isMut":true,"isSigner":false},{"name":"claimCount","isMut":true,"isSigner":false},{"name":"temporal","isMut":false,"isSigner":true},{"name":"payer","isMut":false,"isSigner":true},{"name":"candyMachineConfig","isMut":false,"isSigner":false},{"name":"candyMachine","isMut":true,"isSigner":false},{"name":"candyMachineWallet","isMut":true,"isSigner":false},{"name":"candyMachineMint","isMut":true,"isSigner":false},{"name":"candyMachineMetadata","isMut":true,"isSigner":false},{"name":"candyMachineMasterEdition","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"candyMachineProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"walletBump","type":"u8"},{"name":"claimBump","type":"u8"},{"name":"index","type":"u64"},{"name":"amount","type":"u64"},{"name":"claimantSecret","type":"publicKey"},{"name":"proof","type":{"vec":{"array":["u8",32]}}}]}],"accounts":[{"name":"MerkleDistributor","type":{"kind":"struct","fields":[{"name":"base","type":"publicKey"},{"name":"bump","type":"u8"},{"name":"root","type":{"array":["u8",32]}},{"name":"temporal","type":"publicKey"}]}},{"name":"ClaimStatus","type":{"kind":"struct","fields":[{"name":"isClaimed","type":"bool"},{"name":"claimant","type":"publicKey"},{"name":"claimedAt","type":"i64"},{"name":"amount","type":"u64"}]}},{"name":"ClaimCount","type":{"kind":"struct","fields":[{"name":"count","type":"u64"},{"name":"claimant","type":"publicKey"}]}},{"name":"CandyMachine","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"wallet","type":"publicKey"},{"name":"tokenMint","type":{"option":"publicKey"}},{"name":"config","type":"publicKey"},{"name":"data","type":{"defined":"CandyMachineData"}},{"name":"itemsRedeemed","type":"u64"},{"name":"bump","type":"u8"}]}}],"types":[{"name":"CandyMachineData","type":{"kind":"struct","fields":[{"name":"uuid","type":"string"},{"name":"price","type":"u64"},{"name":"itemsAvailable","type":"u64"},{"name":"goLiveDate","type":{"option":"i64"}}]}}],"events":[{"name":"ClaimedEvent","fields":[{"name":"index","type":"u64","index":false},{"name":"claimant","type":"publicKey","index":false},{"name":"amount","type":"u64","index":false}]}],"errors":[{"code":300,"name":"InvalidProof","msg":"Invalid Merkle proof."},{"code":301,"name":"DropAlreadyClaimed","msg":"Drop already claimed."},{"code":302,"name":"Unauthorized","msg":"Account is not authorized to execute this instruction"},{"code":303,"name":"OwnerMismatch","msg":"Token account owner did not match intended owner"},{"code":304,"name":"TemporalMismatch","msg":"Temporal signer did not match distributor"}]}')},850:function(e,t,n){},851:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(49),i=n.n(c),o=n(55),s=(n(808),n(809),n(810),n(811),n(9)),u=n(505),l=n(59),d=n(508),f=n(920),b=n(910),p=n(203),m=(n(812),n(813),n(262)),h=n(5),j=function(e){var t=e.narrow,n=a.a.useState(!1),r=Object(s.a)(n,2);r[0],r[1];return Object(h.jsxs)(p.a,{sx:{height:"52px",display:"flex",bgcolor:"action.disabledBackground",overflow:"auto",color:"white",background:"#1B1B32"},children:[Object(h.jsx)("div",{className:"logo"}),Object(h.jsx)(p.a,{sx:{flexGrow:1,minWidth:"36px"}}),Object(h.jsx)(m.a,{narrow:t})]})},g=n(498),y=n(2),x=n.n(y),v=n(8),w=n(520),O=n(202),k=n(870),S=n(518),C=n(869),A=n(917),E=n(860),P=n(867),M=n(167),I=n(84),B=n(7),K=n(36),W=n(100),T=n(107),D=function(){var e=Object(o.i)(),t=Object(I.b)(),n=a.a.useState(""),r=Object(s.a)(n,2),c=r[0],i=r[1],u=a.a.useState(localStorage.getItem("claimMethod")||"transfer"),l=Object(s.a)(u,2),d=l[0],f=l[1],b=a.a.useState(localStorage.getItem("mint")||""),m=Object(s.a)(b,2),j=m[0],g=m[1],y=a.a.useState(localStorage.getItem("candyConfig")||""),D=Object(s.a)(y,2),N=D[0],F=D[1],R=a.a.useState(localStorage.getItem("candyUUID")||""),U=Object(s.a)(R,2),L=U[0],z=U[1],q=a.a.useState(localStorage.getItem("masterMint")||""),_=Object(s.a)(q,2),G=_[0],H=_[1],J=function(){var n=Object(v.a)(x.a.mark((function n(r){var a,i,s;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),t.connected&&null!==t.publicKey){n.next=3;break}throw new Error("Wallet not connected");case 3:return a=B.Keypair.fromSecretKey(new Uint8Array(JSON.parse(c))),n.next=6,Object(W.c)(e,t.publicKey,a,d,j,N,L,G);case 6:return i=n.sent,n.next=9,o.c.sendTransactionWithRetry(e,t,i,[a]);case 9:s=n.sent,console.log(s),"string"===typeof s?Object(K.k)({message:"Close failed",description:s}):Object(K.k)({message:"Close succeeded",description:Object(h.jsx)(w.a,{href:Object(T.b)(s.txid,e),children:"View transaction on explorer"})});case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),V=a.a.useState(!1),Y=Object(s.a)(V,2),Q=Y[0],X=Y[1];return Object(h.jsxs)(S.a,{spacing:2,children:[Object(h.jsx)(O.a,{id:"base-text-field",label:"Base Private Key",value:c,onChange:function(e){return i(e.target.value)}}),Object(h.jsxs)(C.a,{fullWidth:!0,children:[Object(h.jsx)(A.a,{id:"claim-method-label",children:"Claim Method"}),Object(h.jsxs)(E.a,{labelId:"claim-method-label",id:"claim-method-select",value:d,label:"Claim Method",onChange:function(e){localStorage.setItem("claimMethod",e.target.value),f(e.target.value)},style:{textAlign:"left"},children:[Object(h.jsx)(P.a,{value:"transfer",children:"Token Transfer"}),Object(h.jsx)(P.a,{value:"candy",children:"Candy Machine"}),Object(h.jsx)(P.a,{value:"edition",children:"Limited Edition"})]})]}),""!==d&&function(e){return"candy"===e?Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(O.a,{id:"config-text-field",label:"Candy Config",value:N,onChange:function(e){return F(e.target.value)}}),Object(h.jsx)(O.a,{id:"config-uuid-text-field",label:"Candy UUID",value:L,onChange:function(e){return z(e.target.value)}})]}):"transfer"===e?Object(h.jsx)(a.a.Fragment,{children:Object(h.jsx)(O.a,{id:"mint-text-field",label:"Mint",value:j,onChange:function(e){return g(e.target.value)}})}):"edition"===e?Object(h.jsx)(a.a.Fragment,{children:Object(h.jsx)(O.a,{id:"master-mint-text-field",label:"Master Mint",value:G,onChange:function(e){return H(e.target.value)}})}):void 0}(d),Object(h.jsxs)(p.a,{sx:{position:"relative"},children:[Object(h.jsx)(M.a,{disabled:!t.connected||!c||Q,variant:"contained",style:{width:"100%"},onClick:function(e){X(!0);var t=function(){var t=Object(v.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J(e);case 3:X(!1),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),Object(K.k)({message:"Close failed",description:"".concat(t.t0)}),X(!1);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();t()},children:"Close Gumdrop"}),Q&&Object(h.jsx)(k.a,{size:24,sx:{position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]})]})},N=n(34),F=n(924),R=n(925),U=n(926),L=n(927),z=n(928),q=n(929),_=n(504),G=n.n(_),H=n(26),J=n.n(H),V=n(33),Y=n(67),Q=n.n(Y),X=n(912),Z=n(916),$=(n(911),n(915),function(e,t,n){var r=function(e,t){return n?'<a href="'.concat(e,'">').concat(t,"</a>"):"".concat(t," ").concat(e)};if("Token"===t.type)return{subject:"Gumdrop Token Drop",message:"You received ".concat(e.amount," token(s) ")+"(click ".concat(r(t.meta,"here")," to view more information about the token mint). ")+r(e.url,"Click here to claim them!")};if("Candy"===t.type)return{subject:"Gumdrop NFT Drop",message:"You received ".concat(e.amount," Candy Machine pre-sale mint(s) ")+"(click ".concat(r(t.meta,"here")," to view the candy machine configuration on explorer). ")+r(e.url,"Click here to claim them!")};if("Edition"===t.type)return{subject:"Gumdrop NFT Drop",message:"You received ".concat(e.amount," limited-edition print(s) ")+"(click ".concat(r(t.meta,"here")," to view the master edition mint on explorer). ")+r(e.url,"Click here to claim them!")};throw new Error("Internal Error: Unknown drop type ".concat(t.type))}),ee=function(){var e=Object(v.a)(x.a.mark((function e(t,n,r,a){var c,i,o,s,u,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.accessKeyId&&t.secretAccessKey){e.next=2;break}throw new Error("AWS SES auth keys not supplied");case 2:if(0!==r.length){e.next=4;break}return e.abrupt("return",[]);case 4:Q.a.debug("SES auth",t),c=new X.a({region:"us-east-2",credentials:{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey}}),i=function(){var e=Object(v.a)(x.a.mark((function e(t,r){var a,i,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$(t,r,!0),i={Destination:{ToAddresses:[t.handle]},Content:{Simple:{Subject:{Data:a.subject,Charset:"utf-8"},Body:{Html:{Data:a.message+"<br><br><div>If you would like to unsubscribe from new Gumdrops, change your subscription preferences here: <a href='{{amazonSESUnsubscribeUrl}}'>AWS subscription preferences</a></div>",Charset:"utf-8"}}}},FromEmailAddress:n,ListManagementOptions:{ContactListName:"Gumdrop",TopicName:r.type}},e.prev=2,e.next=5,c.send(new Z.a(i));case 5:return o=e.sent,e.abrupt("return",{status:"success",handle:t.handle,messageId:o.MessageId});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{status:"error",handle:t.handle,error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),o=Array(),s=Object(V.a)(r),e.prev=9,s.s();case 11:if((u=s.n()).done){e.next=20;break}return l=u.value,e.t0=o,e.next=16,i(l,a);case 16:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 18:e.next=11;break;case 20:e.next=25;break;case 22:e.prev=22,e.t2=e.catch(9),s.e(e.t2);case 25:return e.prev=25,s.f(),e.finish(25);case 28:return e.abrupt("return",o);case 29:case"end":return e.stop()}}),e,null,[[9,22,25,28]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),te=function(){var e=Object(v.a)(x.a.mark((function e(t,n,r,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Array());case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ne=function(){var e=Object(v.a)(x.a.mark((function e(t,n,r,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Array());case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),re=function(e){return e.map((function(e){return{handle:e.handle,amount:e.amount,url:e.url}}))},ae=n(263),ce=function(e){var t=a.a.useRef(null),n=a.a.useState(0),r=Object(s.a)(n,2),c=r[0],i=r[1],o=a.a.useState(!1),u=Object(s.a)(o,2),l=u[0],d=u[1],f=function(e){e.preventDefault(),e.stopPropagation()},b=function(e){e.preventDefault(),e.stopPropagation(),i(c+1),e.dataTransfer.items&&e.dataTransfer.items.length>0&&d(!0)},p=function(e){e.preventDefault(),e.stopPropagation();var t=c-1;i(t),0===t&&d(!1)},m=function(t){t.preventDefault(),t.stopPropagation(),d(!1),t.dataTransfer.files&&t.dataTransfer.files.length>0&&(e.handleDrop(t.dataTransfer.files),t.dataTransfer.clearData(),i(0))};a.a.useEffect((function(){var e=t.current;if(null!==e)return e.addEventListener("dragenter",b),e.addEventListener("dragleave",p),e.addEventListener("dragover",f),e.addEventListener("drop",m),function(){e.removeEventListener("dragenter",b),e.removeEventListener("dragleave",p),e.removeEventListener("dragover",f),e.removeEventListener("drop",m)}}));var j="dark"===Object(ae.b)().mode?"rgba(255,255,255,.1)":"rgba(0, 0, 0,.1)";return Object(h.jsx)("div",{ref:t,style:l?{backgroundColor:j}:{},children:e.children})},ie=n(216),oe=function(){var e=new Uint8Array(4);return window.crypto.getRandomValues(e),e},se="\xa0",ue=function(e,t,n,r,a){if("AWS SES"===e)return ee(t,n,r,a);if("Manual"===e)return te(t,n,r,a);if("Wallets"===e)return ne(t,n,r,a);throw new Error("Unrecognized claim distribution method ".concat(e))},le=function(e){var t=document.createElement("div");document.body.appendChild(t);var n=function(){i.a.unmountComponentAtNode(t),document.body.removeChild(t)};return new Promise((function(n){!function(n){var r=n.onSubmit,a=n.onDismiss;i.a.render(e({onSubmit:r,onDismiss:a,show:!0}),t)}({onSubmit:function(e){return n(e)},onDismiss:function(){return n(void 0)}})})).finally((function(){!function(n,r){var a=n.onSubmit,c=n.onDismiss;i.a.render(e({onSubmit:a,onDismiss:c,show:!1}),t,r)}({onSubmit:function(){},onDismiss:function(){}},n)}))},de=function(e){var t=e.show,n=e.onSubmit,r=e.onDismiss,a=[{click:function(){return n("create")},name:"Create and Send"},{click:function(){return n("send")},name:"Send only"}];return Object(h.jsxs)(ie.a,{visible:t,onCancel:r,width:"70ch",children:[Object(h.jsx)("p",{style:{color:"white",fontSize:"0.9rem",marginTop:8,width:"90%"},children:"Uploaded distribution list has URLs for all claimants. Skip creation of airdrop and only re-send links?"}),Object(h.jsx)("br",{}),Object(h.jsx)(S.a,{direction:"row",spacing:2,style:{width:"100%"},children:a.map((function(e){return Object(h.jsx)(M.a,{style:{width:"100%",color:"white",marginBottom:8},variant:"outlined",onClick:e.click,children:e.name},e.name)}))})]})},fe=function(e){var t=encodeURIComponent(JSON.stringify(e));return"data:text/plain;charset=utf-8,".concat(t)},be=function(e,t,n,r,a){var c=1e3;return function(i){var o=i.show,s=i.onSubmit,u=i.onDismiss;return Object(h.jsxs)(ie.a,{visible:o,onCancel:u,width:"70ch",children:[Object(h.jsxs)("h2",{style:{color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:["Claim Distribution Preview",e.length>c?" (First ".concat(c,")"):""]}),Object(h.jsx)("p",{style:{color:"white",fontSize:"1rem",textAlign:"center"},children:"Approving will save the keypair authority generated for gumdrop state. This keypair is necessary to close the gumdrop later!"}),Object(h.jsx)(F.a,{sx:{"td, th":{color:"white"},backgroundColor:"#444444",borderRadius:"5px",maxHeight:"30ch"},children:Object(h.jsxs)(R.a,{size:"small",children:[Object(h.jsx)(U.a,{children:Object(h.jsxs)(L.a,{children:[Object(h.jsx)(z.a,{children:"Handle"}),Object(h.jsx)(z.a,{children:"edition"===n?"Edition":"Tokens"}),t&&Object(h.jsx)(z.a,{children:"Pin"})]})}),Object(h.jsx)(q.a,{children:e.slice(0,c).map((function(e,a){return Object(h.jsxs)(L.a,{sx:{"td, th":{border:0}},children:[Object(h.jsxs)(z.a,{component:"th",scope:"row",children:[e.handle," "]}),Object(h.jsx)(z.a,{children:"transfer"===n?(c=e.amount,i=r.mint.info,String(c/Math.pow(10,i.decimals))):"candy"===n?e.amount:e.edition}),t&&Object(h.jsx)(z.a,{children:e.pin.toNumber()})]},a);var c,i}))})]})}),Object(h.jsx)(p.a,{style:{height:"3ch"}}),Object(h.jsxs)(S.a,{direction:"row",spacing:2,style:{width:"100%"},children:[Object(h.jsx)(M.a,{style:{width:"100%",color:"white",marginBottom:8},variant:"outlined",onClick:function(){return s(!1)},children:"Cancel"}),Object(h.jsx)(w.a,{href:fe(Array.from(a.secretKey)),download:"".concat(a.publicKey.toBase58(),".json"),underline:"none",style:{width:"100%"},children:Object(h.jsx)(M.a,{style:{width:"100%",color:"white",marginBottom:8},variant:"outlined",onClick:function(){return s(!0)},children:"Approve"})})]})]})}},pe=function(e){var t,n=Object(o.i)(),r=Object(I.b)(),c=a.a.useState(localStorage.getItem("claimMethod")||""),i=Object(s.a)(c,2),u=i[0],l=i[1],d=a.a.useState(localStorage.getItem("candyConfig")||""),f=Object(s.a)(d,2),b=f[0],m=f[1],j=a.a.useState(localStorage.getItem("candyUUID")||""),g=Object(s.a)(j,2),y=g[0],D=g[1],F=a.a.useState(localStorage.getItem("mint")||""),R=Object(s.a)(F,2),U=R[0],L=R[1],z=a.a.useState(localStorage.getItem("masterMint")||""),q=Object(s.a)(z,2),_=q[0],H=q[1],V=a.a.useState(""),Y=Object(s.a)(V,2),Q=Y[0],X=Y[1],Z=a.a.useState(""),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ne=a.a.useState([]),ae=Object(s.a)(ne,2),ie=ae[0],pe=ae[1],me=a.a.useState([]),he=Object(s.a)(me,2),je=he[0],ge=he[1],ye=a.a.useState(localStorage.getItem("otpAuth")||"default"),xe=Object(s.a)(ye,2),ve=xe[0],we=xe[1],Oe=a.a.useState(localStorage.getItem("commMethod")||""),ke=Object(s.a)(Oe,2),Se=ke[0],Ce=ke[1],Ae=a.a.useState({}),Ee=Object(s.a)(Ae,2),Pe=Ee[0],Me=Ee[1],Ie=a.a.useState(localStorage.getItem("commSource")||""),Be=Object(s.a)(Ie,2),Ke=Be[0],We=Be[1],Te=a.a.useState(""),De=Object(s.a)(Te,2),Ne=De[0],Fe=De[1],Re=a.a.useState(""),Ue=Object(s.a)(Re,2),Le=Ue[0],ze=Ue[1],qe=function(){var e=Object(v.a)(x.a.mark((function e(t,n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(Se,Pe,Ke,t,n);case 2:r=e.sent,console.log("Responses",r),ge(r),"AWS SES"===Se&&Object(K.k)({message:"Gumdrop email distribution completed"});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_e=function(){var e=Object(v.a)(x.a.mark((function e(t){var a,c,i,s,l,d,f,p,m,j;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),pe([]),ge([]),r.connected&&null!==r.publicKey){e.next=5;break}throw new Error("Wallet not connected");case 5:if(0!==(a=Object(W.e)(ee,Q,Se)).length){e.next=8;break}throw new Error("No claimants provided");case 8:return c=Object(W.d)(Object(T.a)(n),u,U,b,_),e.next=11,ue(Se,Pe,Ke,[],c);case 11:if(i=function(e){return void 0!==e.url&&null!==e.url},!a.reduce((function(e,t){return e&&i(t)}),!0)){e.next=28;break}return e.next=15,le(de);case 15:if(s=e.sent,console.log("Resend only",s),"send"!==s){e.next=24;break}return pe(re(a)),e.next=21,qe(a,c);case 21:return e.abrupt("return");case 24:if("create"!==s){e.next=27;break}e.next=28;break;case 27:throw new Error("Dismissed");case 28:e.t0=u,e.next="transfer"===e.t0?31:"candy"===e.t0?35:"edition"===e.t0?39:43;break;case 31:return e.next=33,Object(W.h)(n,r.publicKey,a,U);case 33:return l=e.sent,e.abrupt("break",44);case 35:return e.next=37,Object(W.f)(n,r.publicKey,a,b,y);case 37:return l=e.sent,e.abrupt("break",44);case 39:return e.next=41,Object(W.g)(n,r.publicKey,a,_);case 41:return l=e.sent,e.abrupt("break",44);case 43:throw new Error("Unknown claim method ".concat(u));case 44:if(console.log("Claims info",l),a.forEach((function(e){e.pin=new J.a(oe()),e.seed="transfer"===u?l.mint.key:"candy"===u?l.config:l.masterMint.key})),"Wallets"!==Se){e.next=50;break}d=K.b,e.next=59;break;case 50:if("default"!==ve){e.next=54;break}d=K.c,e.next=59;break;case 54:if("none"!==ve){e.next=58;break}d=B.PublicKey.default,e.next=59;break;case 58:throw new Error("Unknown OTP authorization type ".concat(ve));case 59:return console.log("Temporal signer: ".concat(d.toBase58())),f=B.Keypair.generate(),console.log("Base ".concat(f.publicKey.toBase58())),p="Wallets"!==Se,e.next=65,Object(W.a)(n,r.publicKey,p,u,"".concat(window.location.origin,"/gumdrop"),f.publicKey,d,a,l);case 65:return m=e.sent,e.next=68,le(be(a,p,u,l,f));case 68:if(!0!==e.sent){e.next=72;break}e.next=73;break;case 72:throw new Error("Claim distribution preview not approved");case 73:return pe(re(a)),e.next=76,o.c.sendTransactionWithRetry(n,r,m,[f]);case 76:if(j=e.sent,console.log(j),"string"!==typeof j){e.next=82;break}throw new Error(j);case 82:Object(K.k)({message:"Gumdrop creation succeeded",description:Object(h.jsx)(w.a,{href:Object(T.b)(j.txid,n),children:"View transaction on explorer"})});case 83:return console.log("Distributing claim URLs"),e.next=86,qe(a,c);case 86:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(e){if(1===e.length){var t=e[0],n=new FileReader;n.onload=function(e){if(null!==e&&null!==e.target)if("string"===typeof e.target.result){try{Object(W.e)(e.target.result,t.name,Se)}catch(n){return Object(K.k)({message:"File upload failed for: ".concat(t.name),description:Object(h.jsxs)("span",{children:["Could not parse uploaded file.",se,Object(h.jsx)(w.a,{href:"#/",children:"Does it follow the JSON scheme?"})]})}),X(""),void te("")}X(t.name),te(e.target.result)}else Object(K.k)({message:"File upload failed for: ".concat(t.name),description:"Could not read uploaded file"})},n.readAsText(t)}else Object(K.k)({message:"File upload failed",description:"Received ".concat(e.length," files")})},He=Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(ce,{handleDrop:Ge,children:Object(h.jsxs)(S.a,{direction:"row",style:{height:"15ch"},sx:{border:"1px dashed grey",justifyContent:"center",alignContent:"center"},children:[Object(h.jsxs)(M.a,{variant:"text",component:"label",style:{padding:0,marginTop:"5ch",marginBottom:"5ch"},children:["Upload a ",""===Q?"distribution":"different"," list",Object(h.jsx)("input",{type:"file",onChange:function(e){Ge(e.target.files),e.target.value=""},hidden:!0})]}),se,Object(h.jsx)(M.a,{variant:"text",component:"label",disabled:!0,style:{padding:0,color:"#eee"},children:"or drag it here"})]})}),""!==Q?Object(h.jsxs)(M.a,{variant:"text",component:"label",disabled:!0,style:{padding:0,color:"#eee"},children:[Object(h.jsx)(G.a,{}),Object(h.jsxs)("span",{children:[se," Uploaded ",Q]})]}):Object(h.jsx)(p.a,{})]}),Je=a.a.useState(!1),Ve=Object(s.a)(Je,2),Ye=Ve[0],Qe=Ve[1],Xe=Object(h.jsxs)(p.a,{sx:{position:"relative"},children:[Object(h.jsxs)(M.a,{disabled:!r.connected||!Se||!Q||Ye,variant:"contained",style:{width:"100%"},onClick:function(e){Qe(!0);var t=function(){var t=Object(v.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e(e);case 3:Qe(!1),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),Object(K.k)({message:"Create failed",description:"".concat(t.t0)}),Qe(!1);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();t()},children:["Create",ie.length>0?" Another ":" ","Gumdrop"]}),Ye&&Object(h.jsx)(k.a,{size:24,sx:{position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]}),Ze=Object(h.jsx)(a.a.Fragment,{children:Object(h.jsxs)(C.a,{fullWidth:!0,children:[Object(h.jsx)(A.a,{id:"otp-auth-label",children:"OTP Authorization"}),Object(h.jsxs)(E.a,{labelId:"otp-auth-label",id:"otp-auth-select",value:ve,label:"OTP Authorization",onChange:function(e){localStorage.setItem("otpAuth",e.target.value),we(e.target.value)},style:{textAlign:"left"},children:[Object(h.jsxs)(P.a,{value:"default",children:["Default",se,Object(h.jsxs)(w.a,{href:(t=K.c,"https://explorer.solana.com/address/".concat(t.toBase58(),"?cluster=").concat(Object(T.a)(n))),underline:"none",target:"_blank",rel:"noopener noreferrer",children:["(",Object(K.l)(K.c.toBase58()),")"]})]}),Object(h.jsx)(P.a,{value:"none",children:"None"})]})]})});return Object(h.jsxs)(S.a,{spacing:2,children:[Object(h.jsxs)(C.a,{fullWidth:!0,children:[Object(h.jsx)(A.a,{id:"claim-method-label",children:"Claim Method"}),Object(h.jsxs)(E.a,{labelId:"claim-method-label",id:"claim-method-select",value:u,label:"Claim Method",onChange:function(e){localStorage.setItem("claimMethod",e.target.value),l(e.target.value)},style:{textAlign:"left"},children:[Object(h.jsx)(P.a,{value:"transfer",children:"Token Transfer"}),Object(h.jsx)(P.a,{value:"candy",children:"Candy Machine"}),Object(h.jsx)(P.a,{value:"edition",children:"Limited Edition"})]})]}),""!==u&&function(e){return"candy"===e?Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(O.a,{id:"config-text-field",label:"Candy Config",value:b,onChange:function(e){m(e.target.value),localStorage.setItem("candyConfig",e.target.value)}}),Object(h.jsx)(O.a,{id:"config-uuid-text-field",label:"Candy UUID",value:y,onChange:function(e){D(e.target.value),localStorage.setItem("candyUUID",e.target.value)}})]}):"transfer"===e?Object(h.jsx)(O.a,{id:"mint-text-field",label:"Mint",value:U,onChange:function(e){localStorage.setItem("mint",e.target.value),L(e.target.value)}}):"edition"===e?Object(h.jsx)(O.a,{id:"master-mint-text-field",label:"Master Mint",value:_,onChange:function(e){localStorage.setItem("masterMint",e.target.value),H(e.target.value)}}):void 0}(u),Object(h.jsxs)(C.a,{fullWidth:!0,children:[Object(h.jsx)(A.a,{id:"comm-method-label",children:"Distribution Method"}),Object(h.jsxs)(E.a,{labelId:"comm-method-label",id:"comm-method-select",value:Se,label:"Distribution Method",onChange:function(e){"Discord"!==e.target.value?(localStorage.setItem("commMethod",e.target.value),Ce(e.target.value)):Object(K.k)({message:"Discord distribution unavailable",description:"Please use the CLI for this. Discord does not support browser-connection requests"})},style:{textAlign:"left"},children:[Object(h.jsx)(P.a,{value:"AWS SES",children:"AWS SES"}),Object(h.jsx)(P.a,{value:"Discord",children:"Discord"}),Object(h.jsx)(P.a,{value:"Wallets",children:"Wallets"}),Object(h.jsx)(P.a,{value:"Manual",children:"Manual"})]})]}),""!==Se&&function(e){return"AWS SES"===e?Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(O.a,{id:"comm-access-key-id-field",label:"".concat(e," Access Key Id"),value:Ne,onChange:function(e){Me((function(t){return Object(N.a)(Object(N.a)({},t),{},{accessKeyId:e.target.value})})),Fe(e.target.value)}}),Object(h.jsx)(O.a,{id:"comm-secret-access-key-field",label:"".concat(e," Secret Access Key"),value:Le,onChange:function(e){Me((function(t){return Object(N.a)(Object(N.a)({},t),{},{secretAccessKey:e.target.value})})),ze(e.target.value)}}),Object(h.jsx)(O.a,{id:"comm-source-field",label:"".concat(e," Source"),value:Ke,onChange:function(e){localStorage.setItem("commSource",e.target.value),We(e.target.value)}})]}):null}(Se),""!==Se&&"Wallets"!==Se&&Ze,""!==Se&&He,Xe,ie.length>0&&Object(h.jsx)(w.a,{href:fe(ie),download:"claimURLs.json",underline:"none",style:{width:"100%"},children:Object(h.jsx)(M.a,{variant:"contained",style:{width:"100%"},children:"Download claim URLs"})}),je.length>0&&Object(h.jsx)(w.a,{href:fe(je),download:"responses.json",underline:"none",style:{width:"100%"},children:Object(h.jsx)(M.a,{variant:"contained",style:{width:"100%"},children:"Download distribution responses"})})]})},me=function(e){return Object(h.jsx)("div",{children:"You need a link!"})},he=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}};var je=function(){var e=Object(o.h)();a.a.useEffect((function(){}),[e.mode]);var t=a.a.useMemo((function(){var t;return t="dark"!==e.mode&&e.mode?"light":"dark",Object(d.a)({palette:{mode:t}})}),[e.mode]),n=function(){var e=a.a.useState(he()),t=Object(s.a)(e,2),n=t[0],r=t[1];return a.a.useEffect((function(){var e=function(){r(he())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}().width;return Object(h.jsx)("div",{className:"App",style:{backgroundColor:"transparent"},children:Object(h.jsx)(f.a,{theme:t,children:Object(h.jsxs)(u.a,{children:[Object(h.jsx)(b.a,{}),Object(h.jsx)(j,{narrow:n<670}),Object(h.jsxs)(p.a,{maxWidth:"60ch",width:"calc(100% - 60px)",style:{marginLeft:"auto",marginRight:"auto"},children:[Object(h.jsx)(p.a,{height:"40px"}),Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{path:"/gumdrop/create",component:pe}),Object(h.jsx)(l.a,{path:"/gumdrop/claim",component:g.a}),Object(h.jsx)(l.a,{path:"/gumdrop/close",component:D}),Object(h.jsx)(l.a,{path:"/gumdrop/",component:me})]}),Object(h.jsx)(p.a,{height:"80px"})]})]})})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,931)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};n(850);i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(o.d,{children:Object(h.jsx)(o.g,{children:Object(h.jsx)(o.a,{children:Object(h.jsx)(o.b,{children:Object(h.jsx)(je,{})})})})})}),document.getElementById("root")),ge()},98:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d}));n(33),n(2),n(8);var r=n(9),a=n(1),c=(n(7),n(26)),i=n.n(c),o=new i.a(10);o.pow(new i.a(18)),o.pow(new i.a(18)),o.pow(new i.a(27)),new i.a(0),new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:8});function s(e,t){var n=Object(a.useState)((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),c=Object(r.a)(n,2),i=c[0],o=c[1],s=Object(a.useCallback)((function(t){if(i!==t)if(o(t),null===t)localStorage.removeItem(e);else try{localStorage.setItem(e,JSON.stringify(t))}catch(n){}}),[i,e]);return[i,s]}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.slice(0,t),"...").concat(e.slice(-t))}new Set(["USDC","wUSDC","USDT"]);function l(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map((function(n,r){return e.slice(r*t,(r+1)*t)}))}new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2});function d(e){return new Promise((function(t){return setTimeout(t,e)}))}}},[[851,1,2]]]);
//# sourceMappingURL=main.38c0c155.chunk.js.map